<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=1200">
<title>Materauto_Energy_Dark</title>
<meta name="robots" content="max-image-preview:large">
<meta name="generator" content="sitely.app 6.0.6">
<style>.anim{visibility:hidden}</style>
<link rel="preload" href="css/Montserrat-ExtraLight.woff2" as="font" crossorigin>
<link rel="preload" href="css/Montserrat-Bold.woff2" as="font" crossorigin>
<style>html,body{-webkit-text-zoom:reset !important}.plxnc{position:absolute;-ms-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-backface-visibility:hidden;backface-visibility:hidden;width:100%;height:100%}@font-face{font-display:block;font-family:"Montserrat 1";src:url('css/Montserrat-ExtraLight.woff2') format('woff2'),url('css/Montserrat-ExtraLight.woff') format('woff');font-weight:200}@font-face{font-display:block;font-family:"Montserrat 6";src:url('css/Montserrat-Bold.woff2') format('woff2'),url('css/Montserrat-Bold.woff') format('woff');font-weight:700}@font-face{font-display:block;font-family:"Alexandria 6";src:url('css/Alexandria_wght_.woff2') format('woff2'),url('css/Alexandria_wght_.woff') format('woff');font-weight:700;font-style:normal}@font-face{font-display:block;font-family:"Alexandria 1";src:url('css/Alexandria_wght_.woff2') format('woff2'),url('css/Alexandria_wght_.woff') format('woff');font-weight:200;font-style:normal}@font-face{font-display:block;font-family:"Alexandria 7";src:url('css/Alexandria_wght_.woff2') format('woff2'),url('css/Alexandria_wght_.woff') format('woff');font-weight:800;font-style:normal}@font-face{font-display:block;font-family:"Lato 2";src:url('css/Lato-Regular.woff2') format('woff2'),url('css/Lato-Regular.woff') format('woff');font-weight:400}@font-face{font-display:block;font-family:"Reenie Beanie";src:url('css/ReenieBeanie.woff2') format('woff2'),url('css/ReenieBeanie.woff') format('woff');font-weight:400}@font-face{font-display:block;font-family:"Raleway 2";src:url('css/Raleway-Light.woff2') format('woff2'),url('css/Raleway-Light.woff') format('woff');font-weight:300}@font-face{font-display:block;font-family:"Raleway 3";src:url('css/Raleway-Regular.woff2') format('woff2'),url('css/Raleway-Regular.woff') format('woff');font-weight:400}@font-face{font-display:block;font-family:"Montserrat 2";src:url('css/Montserrat-Light.woff2') format('woff2'),url('css/Montserrat-Light.woff') format('woff');font-weight:300}@font-face{font-display:block;font-family:Abel;src:url('css/Abel-Regular.woff2') format('woff2'),url('css/Abel-Regular.woff') format('woff');font-weight:400}body>div{font-size:0}p,span,h1,h2,h3,h4,h5,h6,a,li,button{margin:0;word-spacing:normal;word-wrap:break-word;-ms-word-wrap:break-word;pointer-events:auto;-ms-text-size-adjust:none !important;-moz-text-size-adjust:none !important;-webkit-text-size-adjust:none !important;text-size-adjust:none !important;max-height:10000000px}sup{font-size:inherit;vertical-align:baseline;position:relative;top:-0.4em}sub{font-size:inherit;vertical-align:baseline;position:relative;top:0.4em}ul{display:block;word-spacing:normal;word-wrap:break-word;line-break:normal;list-style-type:none;padding:0;margin:0;-moz-padding-start:0;-khtml-padding-start:0;-webkit-padding-start:0;-o-padding-start:0;-padding-start:0;-webkit-margin-before:0;-webkit-margin-after:0}li{display:block;white-space:normal}[data-marker]::before{content:attr(data-marker) ' ';-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;text-wrap:nowrap}li p, .slc{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}form{display:inline-block}a{text-decoration:inherit;color:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0)}textarea{resize:none}.shm-l{float:left;clear:left}.shm-r{float:right;clear:right;shape-outside:content-box}.btf{display:none}.plyr{min-width:0 !important}html{font-family:sans-serif}body{font-size:0;margin:0;--z:1;zoom:var(--z)}audio,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}b,strong{font-weight:700}dfn{font-style:italic}h1,h2,h3,h4,h5,h6{font-size:1em;line-height:1;margin:0}img{border:0}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible;background:none;border:0;padding:0;text-align:inherit;align-items:initial;padding-block-start:0;padding-block-end:0;padding-inline-start:0}button,select{text-transform:none}button,html input[type=button],input[type=submit]{-webkit-appearance:button;cursor:pointer;box-sizing:border-box;white-space:normal}input[type=text],input[type=password],input[type=email],input[type=date],input[type=number],textarea{-webkit-appearance:none;appearance:none;box-sizing:border-box}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto;box-sizing:border-box;border-color:#ddd}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}blockquote{margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0}:-webkit-full-screen-ancestor:not(iframe){-webkit-clip-path:initial!important}
html{-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale}.menu-content{cursor:pointer;position:relative}li{-webkit-tap-highlight-color:rgba(0,0,0,0)}
#b{background-color:#041a2c}.v13{display:inline-block;vertical-align:top;pointer-events:none}.ps146{position:relative;margin-top:0}.s163{width:100%;min-width:1200px;min-height:1080px}.c76{border:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background-color:#041a2c;background-repeat:no-repeat;background-position:50% 50%;background-size:cover;background-image:url(images/h/dark_apres-1200.jpg)}.z142{z-index:1}.webp .c76{background-image:url(images/a/dark_apres-1200.webp)}.v14{display:inline-block;vertical-align:top;pointer-events:auto}.s164{width:100%;min-width:1200px;height:300px}.z143{z-index:18}.wrapper10{font-size:15px;line-height:1.4;height:300px}.wrapper10 div, .wrapper10 p, .wrapper10 a{font-size:15px;line-height:1.4}.wrapper10 input{font-size:15px;line-height:1.4;margin:3px 2px 3px 2px}.ps147{position:relative;margin-top:-6px}.v15{display:block}.s165{width:1200px;margin-left:auto;margin-right:auto;min-height:252px}.v16{display:inline-block;vertical-align:top}.ps148{position:relative;margin-left:31px;margin-top:0}.s166{min-width:364px;width:364px;min-height:252px}.z144{z-index:44}.ps149{position:relative;margin-left:0;margin-top:0}.s167{min-width:91px;width:91px;min-height:68px;height:68px}.i18{position:absolute;left:0;width:91px;top:3px;height:63px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;border:0}.ps150{position:relative;margin-left:0;margin-top:20px}.s168{min-width:364px;width:364px;overflow:hidden;height:164px}.p5{text-indent:0;padding-bottom:0;padding-right:0;text-align:left}.f45{font-family:"Montserrat 1";font-size:24px;font-size:calc(24px * var(--f));line-height:1.709;font-weight:200;font-style:normal;text-decoration:none;text-transform:uppercase;letter-spacing:normal;color:#fff;background-color:initial;text-shadow:none}.f46{font-family:"Montserrat 6";font-size:24px;font-size:calc(24px * var(--f));line-height:1.709;font-weight:700;font-style:normal;text-decoration:none;text-transform:uppercase;letter-spacing:normal;color:#fff;background-color:initial;text-shadow:none}.ps151{margin-top:-1080px;top:0;position:-webkit-sticky;position:-moz-sticky;position:-o-sticky;position:-ms-sticky;position:sticky}.v17{display:block;pointer-events:none}.s169{width:1200px;margin-left:auto;margin-right:auto;min-height:69px}.z145{z-index:69}.ps152{position:relative;margin-left:9px;margin-top:0}.s170{min-width:1181px;width:1181px;min-height:69px}.s171{min-width:235px;width:235px;min-height:61px;line-height:0}.s172{min-width:235px;width:235px;min-height:61px}.z146{z-index:70}.s173{min-width:128px;width:128px;min-height:41px}.c78{-webkit-border-radius:21px;-moz-border-radius:21px;border-radius:21px}.z147{z-index:72}.c79{position:absolute;pointer-events:none;width:100%;height:100%;-webkit-border-radius:21px;-moz-border-radius:21px;border-radius:21px;backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px)}.c80{position:absolute;box-sizing:border-box;border:1px solid #808080;-webkit-border-radius:21px;-moz-border-radius:21px;border-radius:21px;background-color:transparent}.s174{width:100%;height:100%}.ps153{position:relative;margin-left:127px;margin-top:-61px}.s175{min-width:108px;width:108px;min-height:60px}.c81{border:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background-color:transparent}.z148{z-index:71}.ps154{position:relative;margin-left:15px;margin-top:-61px}.s176{min-width:98px;width:98px;height:56px;box-sizing:border-box}.c82{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background-color:transparent;background-repeat:no-repeat;background-position:50% 100%;background-size:contain;background-image:url(images/3/logo_materauto_energy_lightindark-98.png);transition:color 0.22s, border-color 0.22s, background-color 0.22s;transition-timing-function:linear;transform-style:preserve-3d}.z149{z-index:73}.a4{transform:translateZ(1px);display:inline-block;width:100%;height:100%;z-index:1}.webp .c82{background-image:url(images/6/logo_materauto_energy_lightindark-98.webp)}.webp (null){background-image:url(images/b/logo_materauto_energy_white-98.webp)}.ps155{position:relative;margin-left:-1px;margin-top:20px}.s177{min-width:714px;width:714px;min-height:41px}.c83{-webkit-border-radius:21px;-moz-border-radius:21px;border-radius:21px}.z150{z-index:75}.c84{position:absolute;pointer-events:none;width:100%;height:100%;-webkit-border-radius:21px;-moz-border-radius:21px;border-radius:21px;backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px)}.v18{display:inline-block;vertical-align:top;pointer-events:auto;overflow:visible}.ps156{position:relative;margin-left:8px;margin-top:7px}.s178{min-width:699px;width:699px;height:27px}.z151{z-index:80}.s179{min-width:699px;width:699px;min-height:27px;height:27px}.m2{padding:0px 0px 0px 0px}.s180{min-width:135px;width:135px;height:27px}.mcv2{display:inline-block}.s181{min-width:135px;width:135px;min-height:27px}.c85{border:0;-webkit-border-radius:14px;-moz-border-radius:14px;border-radius:14px;background-color:transparent}.ps157{position:relative;margin-left:0;margin-top:4px}.s182{min-width:135px;width:135px;overflow:hidden;height:19px}.p6{text-indent:0;padding-bottom:0;padding-right:0;text-align:center}.f47{font-family:"Lato 2";font-size:12px;font-size:calc(12px * var(--f));line-height:1.334;font-weight:400;font-style:normal;text-decoration:none;text-transform:none;letter-spacing:normal;color:#fff;background-color:initial;text-shadow:none}.ps158{position:relative;margin-left:141px;margin-top:-27px}.ps159{position:relative;margin-left:282px;margin-top:-27px}.ps160{position:relative;margin-left:423px;margin-top:-27px}.ps161{position:relative;margin-left:564px;margin-top:-27px}.ps162{position:relative;margin-left:15px;margin-top:26px}.s183{min-width:87px;width:87px;overflow:hidden;height:27px}.z152{z-index:81}.f48{font-family:"Reenie Beanie";font-size:22px;font-size:calc(22px * var(--f));line-height:1.228;font-weight:400;font-style:normal;text-decoration:none;text-transform:none;letter-spacing:normal;color:#fff;background-color:initial;text-shadow:none}.ps163{position:relative;margin-left:-8px;margin-top:12px}.s184{min-width:62px;width:62px;height:57px}.z153{z-index:82}.ps164{position:relative;margin-left:1101px;margin-top:-69px}.s185{min-width:80px;width:80px;min-height:57px}.z154{z-index:74}.s186{min-width:80px;width:80px;min-height:57px;line-height:0}.s187{min-width:80px;width:80px;height:57px;box-sizing:border-box}.c86{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background-color:transparent;transition:color 0.2s, border-color 0.2s, background-color 0.2s;transition-timing-function:linear}.z155{z-index:79}.ps165{position:relative;margin-left:0;margin-top:-33px}.s188{min-width:80px;width:80px;height:33px}.z156{z-index:76}.wrapper11{font-size:15px;line-height:1.4;height:33px}.wrapper11 div, .wrapper11 p, .wrapper11 a{font-size:15px;line-height:1.4}.wrapper11 input{font-size:15px;line-height:1.4;margin:3px 2px 3px 2px}.c82::before{background-image:url(images/g/logo_materauto_energy_white-98.png);background-color:transparent;background-repeat:no-repeat;background-position:50% 100%;background-size:contain;background-clip:content-box;border:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;content:'';position:absolute;display:inline-block;width:100%;height:100%;opacity:0;margin-top:0;margin-left:0;top:0;left:0;z-index:-1;transition:opacity 0.22s, color 0.22s, border-color 0.22s, background-color 0.22s}.c82:hover:before{opacity:1}.c82:hover{border-color:transparent;color:transparent}.c82:active:before{background-color:transparent;background-clip:padding-box;border:0;transition:initial}.c82:active{transition:initial}.c86:hover{background-clip:padding-box;color:transparent}.c86:active{transition:initial}@media (min-width:1200px) and (-webkit-min-device-pixel-ratio:1.7), (min-width:1200px) and (min-resolution:144dpi) {.c76{background-image:url(images/p/dark_apres-2400.jpg)}.webp .c76{background-image:url(images/s/dark_apres-2400.webp)}.c82{background-image:url(images/u/logo_materauto_energy_lightindark-196.png)}.webp .c82{background-image:url(images/n/logo_materauto_energy_lightindark-196.webp)}.c82::before{background-image:url(images/v/logo_materauto_energy_white-196.png)}.webp (null){background-image:url(images/1/logo_materauto_energy_white-196.webp)}}@media (min-width:1200px) {.c76{background-image:url(images/u/dark_apres-1600.jpg)}.webp .c76{background-image:url(images/l/dark_apres-1600.webp)}}@media (min-width:1200px) and (-webkit-min-device-pixel-ratio:1.7),(min-width:1200px) and (min-resolution:144dpi) {.c76{background-image:url(images/c/dark_apres-3200.jpg)}.webp .c76{background-image:url(images/q/dark_apres-3200.webp)}}@media (min-width:1600px) {.c76{background-image:url(images/8/dark_apres-2000.jpg)}.webp .c76{background-image:url(images/n/dark_apres-2000.webp)}}@media (min-width:2000px) {.c76{background-image:url(images/q/dark_apres-2560.jpg)}.webp .c76{background-image:url(images/h/dark_apres-2560.webp)}}</style>
<meta name="referrer" content="origin-when-cross-origin">
<script>!function(){var A=new Image;A.onload=A.onerror=function(){1!=A.height&&document.body.classList.remove("webp")},A.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAD8D+JaQAA3AA/ua1AAA"}();
</script>
<link rel="stylesheet" href="css/site.1394df.css" media="print" onload="this.media='all';this.onload=null;">
<noscript><link rel="stylesheet" href="css/site.1394df.css" type="text/css"></noscript>
</head>
<body style="--sw:0px" class="webp" id="b">
<script>!function(){var t,e,n=document.body,r=("0"===n.style.getPropertyValue("--sw")&&n.style.setProperty("--sw","0px"),document.createElement("P")),i=(r.innerHTML="&nbsp;",r.style.cssText="position:fixed;visibility:hidden;font-size:100px;zoom:1",r.setAttribute("aria-hidden","true"),n.appendChild(r),t=r,function(){var e=Math.trunc(1e4/parseFloat(window.getComputedStyle(t).getPropertyValue("font-size")))/100;e!=n.style.getPropertyValue("--f")&&n.style.setProperty("--f",e)});"ResizeObserver"in window?new ResizeObserver(i).observe(r):"requestAnimationFrame"in window?(e=function(){i(),requestAnimationFrame(e)},requestAnimationFrame(e)):setInterval(i,100)}();</script>

<div class="v13 ps146 s163 c76 z142">
<div class="v14 ps146 s164 c77 z143">
<div class="wrapper10">
<div id="circuit-container">
  <svg id="circuit-svg" preserveAspectRatio="none">
    <defs>
      <filter id="electric-glow" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
        <feColorMatrix in="coloredBlur" type="matrix" values="0 0 0 0 0.16   0 0 0 0 0.47  0 0 0 0 1   0 0 0 1 0" result="blueBlur"/>
        <feMerge>
          <feMergeNode in="blueBlur"/>
          <feMergeNode in="blueBlur" opacity="0.6"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>

      <filter id="super-electric" x="-100%" y="-100%" width="300%" height="300%">
        <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="wideBlur" />
        <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="tightBlur" />
        <feColorMatrix in="wideBlur" type="matrix" values="0 0 0 0 0.1   0 0 0 0 0.3  0 0 0 0 1   0 0 0 1.5 0" result="blueHaloGiant"/>
        <feMerge>
          <feMergeNode in="blueHaloGiant" opacity="0.7"/>
          <feMergeNode in="tightBlur"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    
    <path id="circuit-line" d="" />
    <path id="running-current" d="" />
    <path id="distortion-line" d="" />
    <path id="circuit-trigger" d="" />
  </svg>
</div>

<svg id="lightning-container"></svg>

<div id="glitch-spark">
  <div class="spark-core"></div>
  <div class="spark-burst"></div>
</div>

<style>
  /* CONFIGURATION GLOBALE */
  :root {
    --total-height: 4169px; /* Hauteur forcée demandée */
    --neon-blue: #2979FF;
  }

  body { margin: 0; padding: 0; min-height: var(--total-height); position: relative; }

  /* CONTAINERS */
  #circuit-container, #lightning-container {
    position: absolute; top: 0; left: 0;
    width: 100%; height: var(--total-height);
    pointer-events: none; overflow: hidden;
  }
  #circuit-container { z-index: 9998; }
  #lightning-container { z-index: 9999; overflow: visible; }
  #circuit-svg { width: 100%; height: 100%; }

  /* 1. LIGNE PRINCIPALE (Glow original) */
  #circuit-line {
    fill: none;
    stroke: var(--neon-blue);
    stroke-width: 2px;
    filter: url(#electric-glow);
    opacity: 0.6;
    stroke-linecap: square; stroke-linejoin: round;
  }

  /* 2. COURANT ELECTRIQUE (Animation fluide) */
  #running-current {
    fill: none; stroke: #FFFFFF; stroke-width: 3px;
    filter: url(#super-electric);
    stroke-linecap: round; stroke-linejoin: round;
    opacity: 1;
    animation: run-lightning 3s infinite linear;
  }
  @keyframes run-lightning { to { stroke-dashoffset: 0; } }

  /* 3. DISTORTION (Ligne tremblante au hover) */
  #distortion-line {
    fill: none; stroke: #FFFFFF; stroke-width: 3px;
    filter: url(#super-electric);
    stroke-linecap: round; stroke-linejoin: round;
    opacity: 0;
  }

  /* 4. PETITS ECLAIRS (Particules) */
  .lightning-bolt {
    fill: none; stroke: #FFFFFF; stroke-width: 2px;
    filter: url(#super-electric);
    opacity: 0;
    animation: flash 0.15s linear forwards;
  }
  @keyframes flash { 0% { opacity: 0; } 20% { opacity: 1; stroke-width: 3px; } 100% { opacity: 0; } }

  /* 5. ZONE INTERACTIVE */
  #circuit-trigger {
    fill: none; stroke: transparent; stroke-width: 60px; /* Largeur de détection */
    pointer-events: stroke; cursor: crosshair;
  }

  /* 6. SPARK GLITCH (Style original restauré) */
  #glitch-spark {
    position: fixed; top: 0; left: 0; pointer-events: none; z-index: 9999;
    opacity: 0; transition: opacity 0.1s;
  }
  #glitch-spark.active { opacity: 1; }

  .spark-core { 
    position: absolute; top: -6px; left: -6px; width: 12px; height: 12px; 
    background: #FFFFFF; border-radius: 50%; 
    box-shadow: 0 0 15px 5px #FFFFFF, 0 0 30px 10px var(--neon-blue); 
  }
  
  .spark-burst { 
    position: absolute; top: -35px; left: -35px; width: 70px; height: 70px; 
    border: 2px solid var(--neon-blue); 
    border-radius: 50%; animation: spin 0.2s infinite linear; opacity: 0.6; 
    box-shadow: 0 0 20px var(--neon-blue); 
  }
  
  @keyframes spin { 
    0% { transform: scale(0.8) rotate(0deg); opacity: 1; border-color: #FFFFFF; } 
    100% { transform: scale(1.1) rotate(180deg); opacity: 0; border-color: var(--neon-blue); } 
  }
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const pathVisible = document.getElementById('circuit-line');
  const pathRunning = document.getElementById('running-current'); 
  const pathDistortion = document.getElementById('distortion-line');
  const pathTrigger = document.getElementById('circuit-trigger');
  const spark = document.getElementById('glitch-spark');
  const lightningContainer = document.getElementById('lightning-container');
  
  // --- CONFIGURATION OPTIMISÉE ---
  const TOTAL_HEIGHT = 4169; // Hauteur fixe demandée
  const stepMin = 200, stepMax = 500, margin = 60;
  let segments = [];
  let isHovering = false;
  let mouseX = 0, mouseY = 0;
  
  // --- 1. DESSIN DU CIRCUIT (Hauteur Fixe) ---
  function drawCircuit() {
    const width = window.innerWidth;
    segments = [];
    let cx = width / 2, cy = 0;
    let d = `M ${cx} 0`;
    
    function addLine(x1, y1, x2, y2) {
      d += ` L ${x2} ${y2}`;
      segments.push({ x1, y1, x2, y2, isVert: x1 === x2 });
    }

    addLine(cx, 0, cx, 50);
    cy = 50;

    // Génération jusqu'à 4169px exactement
    while (cy < TOTAL_HEIGHT) {
      let ny = cy + Math.floor(Math.random() * (stepMax - stepMin + 1) + stepMin);
      if (ny > TOTAL_HEIGHT) ny = TOTAL_HEIGHT; // Cap à la hauteur max

      let nx;
      do { nx = Math.floor(Math.random() * (width - (margin * 2))) + margin; } 
      while (Math.abs(nx - cx) < 100 && width > 400);

      addLine(cx, cy, nx, cy); 
      addLine(nx, cy, nx, ny); 
      cx = nx; cy = ny;
      
      if (cy >= TOTAL_HEIGHT) break;
    }

    // Application des chemins
    [pathVisible, pathRunning, pathTrigger].forEach(p => p.setAttribute('d', d));
    
    const len = pathVisible.getTotalLength();
    
    // Sync Scroll Setup
    pathVisible.style.strokeDasharray = len;
    pathTrigger.style.strokeDasharray = len;
    
    // Config éclair courant (longueur + espace)
    pathRunning.style.strokeDasharray = `400 ${len}`; 
    pathRunning.style.strokeDashoffset = len + 400; 
    
    updateScroll();
  }

  // --- 2. SCROLL SYNC ---
  function updateScroll() {
    const len = pathVisible.getTotalLength();
    // Utilisation de scrollY et de la hauteur fixe pour la performance
    const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
    const pct = (maxScroll > 0) ? window.scrollY / maxScroll : 0;
    
    // Offset calculé pour finir exactement en bas
    const offset = Math.max(0, len - (len * pct * 1.01));
    
    pathVisible.style.strokeDashoffset = offset;
    pathTrigger.style.strokeDashoffset = offset;
  }

  // --- 3. LOGIQUE DISTORTION & HOVER (VERSION COMPLEXE RESTAURÉE) ---
  function getClosestPoint(mx, my) {
    let minDist = Infinity;
    let closest = { x: mx, y: my, segment: null };
    
    segments.forEach(seg => {
      let px, py;
      if (seg.isVert) { 
        px = seg.x1; 
        py = Math.max(Math.min(my, seg.y2), seg.y1);
      } else { 
        px = Math.max(Math.min(mx, Math.max(seg.x1, seg.x2)), Math.min(seg.x1, seg.x2)); 
        py = seg.y1;
      }
      let dx = mx - px, dy = my - py;
      let dist = Math.sqrt(dx*dx + dy*dy);
      if (dist < minDist) { minDist = dist; closest = { x: px, y: py, isVert: seg.isVert }; }
    });
    return closest;
  }

  function animateDistortion() {
    if (!isHovering) {
      pathDistortion.style.opacity = 0;
      requestAnimationFrame(animateDistortion);
      return;
    }
    
    const target = getClosestPoint(mouseX, mouseY);
    
    // Distance max d'activation (80px)
    const dx = mouseX - target.x;
    const dy = mouseY - target.y;
    if (Math.sqrt(dx*dx + dy*dy) > 80) {
       pathDistortion.style.opacity = 0;
       spark.classList.remove('active');
       requestAnimationFrame(animateDistortion);
       return;
    } else {
       spark.classList.add('active');
    }

    // --- C'EST ICI QUE LA COMPLEXITE REVIENT ---
    // On dessine une ligne tremblante (plusieurs points aléatoires)
    const size = 40; const shake = 5; 
    let d = "";
    
    if (target.isVert) {
      let startY = target.y - size; let endY = target.y + size;
      d = `M ${target.x} ${startY}`;
      for(let i=1; i<=5; i++) {
         let ty = startY + (i * (size*2)/6); 
         let tx = target.x + (Math.random() - 0.5) * shake * 2; // Tremblement X
         d += ` L ${tx} ${ty}`;
      }
      d += ` L ${target.x} ${endY}`;
    } else {
      let startX = target.x - size; let endX = target.x + size;
      d = `M ${startX} ${target.y}`;
      for(let i=1; i<=5; i++) {
         let tx = startX + (i * (size*2)/6); 
         let ty = target.y + (Math.random() - 0.5) * shake * 2; // Tremblement Y
         d += ` L ${tx} ${ty}`;
      }
      d += ` L ${endX} ${target.y}`;
    }
    
    pathDistortion.setAttribute('d', d);
    pathDistortion.style.opacity = 1;
    
    // Génération aléatoire d'éclairs périphériques
    if (Math.random() > 0.75) createLightning(target.x, target.y);
    
    requestAnimationFrame(animateDistortion);
  }

  // --- 4. PARTICULES ECLAIRS (RAMIFICATIONS RESTAURÉES) ---
  function createLightning(cx, cy) {
    const bolt = document.createElementNS("http://www.w3.org/2000/svg", "path");
    bolt.setAttribute("class", "lightning-bolt");
    let lx = cx; let ly = cy; let d = `M ${lx} ${ly}`;
    
    // Dispersion aléatoire
    const angle = Math.random() * Math.PI * 2;
    const speedX = Math.cos(angle) * 12; 
    const speedY = Math.sin(angle) * 12;
    const segs = 3 + Math.floor(Math.random() * 4); // Nombre de segments
    
    for (let i = 0; i < segs; i++) {
      lx += speedX + (Math.random()-0.5)*20; 
      ly += speedY + (Math.random()-0.5)*20;
      d += ` L ${lx} ${ly}`;
    }
    bolt.setAttribute("d", d);
    lightningContainer.appendChild(bolt);
    setTimeout(() => bolt.remove(), 150);
  }

  // --- LISTENERS ---
  pathTrigger.addEventListener('mouseenter', () => isHovering = true);
  pathTrigger.addEventListener('mousemove', (e) => { 
      // Positionnement du spark brut (CSS le gère avec spark-core et burst)
      spark.style.left = e.clientX + 'px'; 
      spark.style.top = e.clientY + 'px';
      mouseX = e.pageX; mouseY = e.pageY;
  });
  pathTrigger.addEventListener('mouseleave', () => { 
    isHovering = false; 
    spark.classList.remove('active'); 
    pathDistortion.style.opacity = 0;
  });

  drawCircuit();
  window.addEventListener('scroll', updateScroll);
  // Un simple debounce pour le resize
  let resizeTimer;
  window.addEventListener('resize', () => { 
      clearTimeout(resizeTimer); 
      resizeTimer = setTimeout(drawCircuit, 200); 
  });
  
  // Lancement de la boucle d'animation
  requestAnimationFrame(animateDistortion);
});
</script>
</div>
</div>
<div class="ps147 v15 s165">
<div class="v16 ps148 s166 z144">
<div class="v14 ps149 s167 c77">
<picture>
<source srcset="images/5/plan-de-travail-2-copie-3-91.webp 1x, images/h/plan-de-travail-2-copie-3-182.webp 2x" type="image/webp">
<source srcset="images/0/plan-de-travail-2-copie-3-91.png 1x, images/g/plan-de-travail-2-copie-3-182.png 2x">
<img src="images/g/plan-de-travail-2-copie-3-182.png" class="i18">
</picture>
</div>
<div class="v14 ps150 s168 c77">
<h1 class="p5 f45">&Eacute;nergie solaire performante pour <span class="f46">b&acirc;timents r&eacute;sidentiels&nbsp;</span></h1>
<h1 class="p5 f45">et <span class="f46">commerciaux</span></h1>
</div>
</div>
</div>
<a name="dark_energie" class="v6 ps25 s30"></a>
</div>
<div class="ps151 v17 s169 z145">
<div class="v16 ps152 s170 z145">
<div class="v16 ps149 s170">
<div class="v16 ps149 s171">
<div class="v16 ps149 s172 z146">
<div class="v16 ps149 s172">
<div class="v16 ps150 s173 c78 z147"><div class="bd c79"><div class="c80 s174"></div></div></div>
<div class="v16 ps153 s175 c81 z148"></div>
</div>
</div>
<div class="v14 ps154 s176 c82 z149">
<a href="#" class="a4"></a>
</div>
</div>
<div class="v16 ps155 s177 c83 z150">
<div class="bd c84">
<div class="c80 s174">
</div>
</div>
<div class="v18 ps156 s178 z151">
<ul class="menu-dropdown v16 ps149 s179 m2" id="m3">
<li class="v15 ps149 s180">
<a href="#"><div class="menu-content mcv2"><div class="v13 ps149 s181 c85"><div class="v14 ps157 s182 c77"><p class="p6 f47">Accueil</p></div></div></div></a>
</li>
<li class="v15 ps158 s180">
<a href="#dark_energie"><div class="menu-content mcv2"><div class="v13 ps149 s181 c85"><div class="v14 ps157 s182 c77"><p class="p6 f47">Energie</p></div></div></div></a>
</li>
<li class="v15 ps159 s180">
<a href="#dark_solution"><div class="menu-content mcv2"><div class="v13 ps149 s181 c85"><div class="v14 ps157 s182 c77"><p class="p6 f47">Solution</p></div></div></div></a>
</li>
<li class="v15 ps160 s180">
<a href="#dark_apropos"><div class="menu-content mcv2"><div class="v13 ps149 s181 c85"><div class="v14 ps157 s182 c77"><p class="p6 f47">&Agrave; Propos</p></div></div></div></a>
</li>
<li class="v15 ps161 s180">
<a href="#dark_contact"><div class="menu-content mcv2"><div class="v13 ps149 s181 c85"><div class="v14 ps157 s182 c77"><p class="p6 f47">Contact</p></div></div></div></a>
</li>
</ul>
</div>
</div>
<div class="v14 ps162 s183 c77 z152">
<p class="p5 f48">Essayez-moi</p>
</div>
<div class="v14 ps163 s184 c77 z153">
<canvas id="rp3" style="width:100%;height:100%">
</canvas>
</div>
<div class="v14 ps164 s185 z154">
<a href="./" style="display:block"><div class="v13 ps149 s185"><div class="v16 ps149 s186"><div class="v14 ps149 s187 c86 z155"></div><div class="v14 ps165 s188 c77 z156"><div class="wrapper11"><style>
  /* --- RESET LOCAL : Pour contrer les styles de Sparkle --- */
  .my-toggle-component {
    /* On force les dimensions */
    width: 80px;
    height: 32px;
    
    /* On annule les styles parasites de Sparkle */
    padding: 0 !important;
    margin: 0 !important;
    background: transparent !important;
    border: none !important;
    line-height: normal !important; /* Très important pour l'alignement vertical */
    box-sizing: border-box !important;
    position: relative;
    display: block;
    overflow: visible;
  }

  /* --- INPUT CACHÉ --- */
  .toggle-checkbox {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
    margin: 0;
    padding: 0;
    z-index: 10; /* S'assure qu'on peut cliquer dessus */
  }

  /* --- FOND (PILULE) --- */
  .toggle-label {
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 999px;
    cursor: pointer;
    overflow: hidden; 
    position: relative;
    
    transition: background 0.5s ease-in-out;
    /* Ombre interne */
    box-shadow: inset 0 2px 6px rgba(0,0,0,0.3), 0 2px 4px rgba(0,0,0,0.1);
  }

  /* --- BOUTON ROND (Soleil/Lune) --- */
  .toggle-knob {
    position: absolute;
    top: 3px; 
    left: 3px;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    z-index: 5;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }

  /* --- NUAGES --- */
  .clouds {
    position: absolute;
    top: 50%;
    right: 5px;
    width: 30px;
    height: 100%;
    transform: translateY(-50%);
    opacity: 0; 
    transition: opacity 0.4s ease, transform 0.4s ease;
    pointer-events: none;
  }
  .clouds::before, .clouds::after {
    content: '';
    position: absolute;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
  }
  /* Ajustement précis des positions des nuages */
  .clouds::before { width: 14px; height: 14px; top: 9px; right: 0px; }
  .clouds::after { width: 10px; height: 10px; top: 13px; right: 10px; }

  /* --- ÉTOILES --- */
  .stars {
    position: absolute;
    top: 5px;
    left: 8px;
    width: 30px;
    height: 100%;
    opacity: 1; 
    transition: opacity 0.4s ease;
    pointer-events: none;
  }
  .stars::before {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    /* Positionnement fixe des étoiles */
    box-shadow: 
      10px 4px 0 white,
      4px 12px 0 rgba(255,255,255, 0.8),
      20px 10px 0 rgba(255,255,255, 0.6),
      15px 18px 0 rgba(255,255,255, 0.9);
    animation: twinkle 3s infinite alternate;
  }

  /* --- LOGIQUE D'ÉTAT (Check/Uncheck) --- */
  
  /* Mode NUIT (activé par défaut) */
  .toggle-checkbox:checked + .toggle-label {
    background: linear-gradient(to right, #2b3242, #4a5568);
  }
  .toggle-checkbox:checked + .toggle-label .toggle-knob {
    transform: translateX(48px);
    background: #cbd5e0; 
    box-shadow: inset -3px -2px 0 0px #a0aec0, 0 2px 4px rgba(0,0,0,0.2);
  }
  .toggle-checkbox:checked + .toggle-label .toggle-knob::before {
    content: '';
    position: absolute;
    width: 4px;
    height: 4px;
    background: #a0aec0;
    border-radius: 50%;
    top: 6px;
    left: 8px;
    box-shadow: 8px 6px 0 #a0aec0, 4px 10px 0 #a0aec0;
    opacity: 1;
    transition: opacity 0.3s;
  }
  .toggle-checkbox:checked + .toggle-label .stars { opacity: 1; }
  .toggle-checkbox:checked + .toggle-label .clouds { opacity: 0; }

  /* Mode JOUR */
  .toggle-checkbox:not(:checked) + .toggle-label {
    background: linear-gradient(to right, #4facfe, #00f2fe);
  }
  .toggle-checkbox:not(:checked) + .toggle-label .toggle-knob {
    transform: translateX(0);
    background: #fdd835; 
    box-shadow: 0 0 10px #fdd835, inset -2px -2px 0 rgba(255,255,255,0.3); 
  }
  .toggle-checkbox:not(:checked) + .toggle-label .toggle-knob::before { opacity: 0; }
  .toggle-checkbox:not(:checked) + .toggle-label .clouds { opacity: 1; transform: translateY(-50%) translateX(-5px); }
  .toggle-checkbox:not(:checked) + .toggle-label .stars { opacity: 0; }

  @keyframes twinkle {
    0% { opacity: 0.6; transform: scale(0.8); }
    100% { opacity: 1; transform: scale(1.1); }
  }
</style>

<div class="my-toggle-component">
  <input type="checkbox" id="mode-toggle-sparkle" class="toggle-checkbox" checked>
  <label for="mode-toggle-sparkle" class="toggle-label">
    <span class="stars"></span>
    <span class="clouds"></span>
    <span class="toggle-knob"></span>
  </label>
</div></div></div></div></div></a>
</div>
</div>
</div>
</div>
<div class="btf ps1 v1 s31">
<div class="v2 ps2 s2 c1 z128">
<div class="wrapper8">
<!-- Configuration Tailwind pour NE PAS casser le design de votre site -->
<script>
  tailwind = {
    corePlugins: {
      preflight: false,
    }
  }
</script>
<!-- Importation du style Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Conteneur principal du Widget -->
<div id="wa-dark-widget-container" class="fixed bottom-6 right-6 z-[9999] flex flex-col items-end font-sans">
  
  <!-- Fenêtre de Chat (Masquée par défaut) -->
  <div id="wa-dark-chat-window" class="mb-4 w-[350px] bg-gray-900 rounded-2xl shadow-2xl overflow-hidden flex flex-col transition-all duration-300 origin-bottom-right border border-gray-700 opacity-0 scale-0 pointer-events-none">
    
    <!-- En-tête (Header) -->
    <div class="bg-[#202c33] text-white p-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="relative">
          <!-- IMPORTANT: Remplacez l'URL src par le lien complet de votre logo hébergé -->
          <img 
            src="Capture d’écran 2026-02-24 à 11.34.37 AM.png" 
            alt="Logo Materauto" 
            class="w-10 h-10 rounded-full border-2 border-gray-700 object-cover bg-white p-0.5"
            onerror="this.onerror=null; this.src='https://ui-avatars.com/api/?name=Materauto&background=202c33&color=fff';" 
          />
          <span class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-[#202c33] rounded-full"></span>
        </div>
        <div>
          <h3 class="font-semibold text-sm leading-tight text-white m-0">Materauto Energy</h3>
          <p class="text-xs text-gray-300 mt-0.5 m-0">En ligne</p>
        </div>
      </div>
      <button id="wa-dark-close-btn" class="p-1 text-gray-400 hover:text-white hover:bg-white/10 rounded-full transition-colors bg-transparent border-none cursor-pointer" aria-label="Fermer le chat">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </button>
    </div>

    <!-- Corps du message (Chat Area) -->
    <div class="p-5 h-[280px] overflow-y-auto flex flex-col gap-4 relative" style="background-color: #0b141a;">
      <!-- Motif d'arrière plan sombre -->
      <div class="absolute inset-0 opacity-[0.03] pointer-events-none" style="background-image: url(&quot;data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E&quot;);"></div>
      
      <!-- Bulle de message reçu -->
      <div class="bg-[#202c33] text-[#e9edef] p-3 rounded-xl rounded-tl-sm max-w-[85%] self-start shadow-sm text-[15px] relative z-10 leading-relaxed whitespace-pre-wrap m-0">Bonjour ! Comment puis-je vous aider ?<span id="wa-dark-time" class="block text-[10px] text-gray-400 mt-1 text-right"></span></div>
    </div>

    <!-- Zone de saisie (Input Area) -->
    <div class="bg-[#202c33] p-3 flex flex-col gap-2 relative z-10">
      <div class="flex items-center gap-2 bg-[#2a3942] rounded-full px-4 py-2 border border-transparent focus-within:border-[#00a884] transition-colors shadow-sm">
        <input id="wa-dark-chat-input" type="text" placeholder="Saisissez votre message..." class="flex-1 bg-transparent text-sm outline-none border-none text-[#e9edef] placeholder-gray-400 m-0 p-0" />
        <button id="wa-dark-send-btn" class="p-1.5 rounded-full transition-colors flex items-center justify-center text-gray-500 cursor-not-allowed bg-transparent border-none" disabled>
          <svg class="ml-1" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
        </button>
      </div>
      
      <div class="flex justify-between items-center px-2">
        <span class="text-[10px] text-gray-400">Demande de Devis ou Questions</span>
      </div>
    </div>
  </div>

  <!-- Bouton Flottant (Pastille principale) -->
  <button id="wa-dark-toggle-btn" class="relative flex items-center gap-2 bg-[#122b22] text-[#00a884] border-2 border-[#00a884] px-5 py-3.5 rounded-full shadow-lg hover:bg-[#1a3b30] transition-colors cursor-pointer m-0">
    <svg viewBox="0 0 24 24" width="24" height="24" class="fill-current"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
    <span class="font-semibold">Demander un devis</span>
    <span class="absolute -top-1 -right-1 w-3.5 h-3.5 bg-red-500 rounded-full border-2 border-gray-900"></span>
  </button>

</div>

<!-- Script logique d'interaction -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // --- CONFIGURATION ---
    const phoneNumber = "261389863812"; // Votre numéro
    // ---------------------

    const toggleBtn = document.getElementById('wa-dark-toggle-btn');
    const closeBtn = document.getElementById('wa-dark-close-btn');
    const chatWindow = document.getElementById('wa-dark-chat-window');
    const sendBtn = document.getElementById('wa-dark-send-btn');
    const chatInput = document.getElementById('wa-dark-chat-input');
    const timeDisplay = document.getElementById('wa-dark-time');

    if(timeDisplay) timeDisplay.innerText = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

    const toggleChat = () => {
      const isClosed = chatWindow.classList.contains('opacity-0');
      if (isClosed) {
        chatWindow.classList.remove('opacity-0', 'scale-0', 'pointer-events-none');
        chatWindow.classList.add('opacity-100', 'scale-100');
        toggleBtn.classList.add('hidden');
        toggleBtn.classList.remove('flex');
        setTimeout(() => chatInput.focus(), 300);
      } else {
        chatWindow.classList.add('opacity-0', 'scale-0', 'pointer-events-none');
        chatWindow.classList.remove('opacity-100', 'scale-100');
        toggleBtn.classList.remove('hidden');
        toggleBtn.classList.add('flex');
      }
    };

    const sendMessage = () => {
      const message = chatInput.value.trim();
      const encodedMessage = encodeURIComponent(message);
      
      // Utilisation du protocole natif 'whatsapp://' pour forcer l'ouverture de l'application
      const whatsappUrl = `whatsapp://send?phone=${phoneNumber}${message ? '&text=' + encodedMessage : ''}`;
      
      // Redirection directe sans ouvrir de nouvel onglet (comportement optimal pour les protocoles applicatifs)
      window.location.href = whatsappUrl;
    };

    const handleInput = (e) => {
      if (e.target.value.trim().length > 0) {
        sendBtn.classList.add('text-[#00a884]', 'hover:bg-gray-700');
        sendBtn.classList.remove('text-gray-500', 'cursor-not-allowed');
        sendBtn.disabled = false;
      } else {
        sendBtn.classList.remove('text-[#00a884]', 'hover:bg-gray-700');
        sendBtn.classList.add('text-gray-500', 'cursor-not-allowed');
        sendBtn.disabled = true;
      }
    };

    if(toggleBtn) toggleBtn.addEventListener('click', toggleChat);
    if(closeBtn) closeBtn.addEventListener('click', toggleChat);
    if(sendBtn) sendBtn.addEventListener('click', sendMessage);
    if(chatInput) {
      chatInput.addEventListener('input', handleInput);
      chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !sendBtn.disabled) {
          e.preventDefault();
          sendMessage();
        }
      });
    }
  });
</script>
</div>
</div>
</div>
<div class="btf v3 ps5 s32 z37">
<div class="v4 ps5 s32 c3 z58">
<div class="ps26 v5 s33">
<div class="v4 ps27 s34">
<div class="v4 ps28 s35">
<div class="v4 ps29 s36">
<div class="v4 ps9 s37 c9 z62"></div>
<div class="v4 ps30 s38 c10 z60"></div>
</div>
<div class="v4 ps31 s39 z55">
<div class="v4 ps9 s39">
<div class="v4 ps9 s40">
<div class="v4 ps9 s41 c64 z68">
<div class="bd c65">
<div class="c13 s13">
</div>
</div>
<div class="v2 ps32 s42 c1 z67">
<p class="p2 f39">Panneaux de 5 &agrave; 30 kWc <span class="f40">(Monocristalins, bifocaux &laquo;Productif et r&eacute;sistants&raquo;)</span></p>
<p class="p2 f39">Onduleurs de 5 &agrave; 30 kVA<span class="f40"> hybrides connect&eacute;es &laquo;Fiable et efficient&raquo;</span></p>
<p class="p2 f39">Batteries de 10 &agrave; 65 kWh<span class="f40"> LifeP04 &gt; 6000 cycles &laquo;Performantes et durables&raquo;</span></p>
</div>
</div>
<div class="v2 ps33 s43 c1 z63">
<div class="plx plxnc" data-plx="o:0.42:0.88:0:1:0" style="visibility:hidden;will-change:opacity" data-plx-no-clip>
<h2 class="p2 f11">&Eacute;quipements</h2>
</div>
</div>
</div>
<div class="anim flash un7 v2 ps33 s44 c1 z69">
<p class="p2 f11">&Eacute;quipements</p>
</div>
</div>
</div>
</div>
<div class="v4 ps34 s146">
<div class="anim flash un8 v2 ps9 s45 c1 z64">
<picture>
<source srcset="images/k/equipement_b-e-moyenne_rescale-309.webp 1x, images/m/equipement_b-e-moyenne_rescale-618.webp 2x" type="image/webp">
<source srcset="images/e/equipement_b-e-moyenne_rescale-309.png 1x, images/d/equipement_b-e-moyenne_rescale-618.png 2x">
<img src="images/d/equipement_b-e-moyenne_rescale-618.png" loading="lazy" class="i17">
</picture>
</div>
<div class="v2 ps125 s45 c1 z65">
<picture>
<source srcset="images/k/equipement_b-e-moyenne_rescale-309.webp 1x, images/m/equipement_b-e-moyenne_rescale-618.webp 2x" type="image/webp">
<source srcset="images/e/equipement_b-e-moyenne_rescale-309.png 1x, images/d/equipement_b-e-moyenne_rescale-618.png 2x">
<img src="images/d/equipement_b-e-moyenne_rescale-618.png" loading="lazy" class="i2">
</picture>
</div>
<a name="dark_solution" class="v2 ps38 s147"></a>
</div>
<div class="v2 ps35 s46 c1 z59">
<picture>
<source srcset="images/8/xt_dark_section_img_gemini_generated_image_6s1adl6s1adl6s1a-550.webp 1x, images/l/xt_dark_section_img_gemini_generated_image_6s1adl6s1adl6s1a-1100.webp 2x" type="image/webp">
<source srcset="images/6/xt_dark_section_img_gemini_generated_image_6s1adl6s1adl6s1a-550.png 1x, images/7/xt_dark_section_img_gemini_generated_image_6s1adl6s1adl6s1a-1100.png 2x">
<img src="images/7/xt_dark_section_img_gemini_generated_image_6s1adl6s1adl6s1a-1100.png" loading="lazy" class="i3">
</picture>
</div>
<div class="v4 ps126 s47 z66">
<div class="v4 ps9 s47 c66 z61">
<div class="bd c67">
<div class="c13 s13">
</div>
</div>
<div class="v2 ps127 s148 c1 z129">
<p class="p1 f41">Panneaux, batterie et onduleur</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="btf v3 ps5 s49 c68 z44">
<div class="ps39 v5 s149">
<div class="v4 ps40 s150 z38">
<div class="v4 ps9 s51">
<div class="v2 ps41 s52 c1">
<picture>
<source srcset="images/n/plan-de-travail-2-copie-4-77.webp 1x, images/3/plan-de-travail-2-copie-4-154.webp 2x" type="image/webp">
<source srcset="images/q/plan-de-travail-2-copie-4-77.png 1x, images/c/plan-de-travail-2-copie-4-154.png 2x">
<img src="images/c/plan-de-travail-2-copie-4-154.png" loading="lazy" class="i4">
</picture>
</div>
<div class="v2 ps42 s53 c1">
<h1 class="p2 f2">&eacute;nergie solaire <span class="f1">adapt&eacute;e &agrave; votre </span>foyer</h1>
</div>
</div>
<div class="v4 ps43 s151">
<div class="v4 ps9 s151">
<div class="v4 ps9 s152">
<div class="v4 ps9 s54 c69 z39"><div class="bd c70"><div class="c71 s13"></div></div></div>
<div class="v2 ps128 s153 c1 z40">
<div class="plx plxnc" data-plx="o:0.43:0.86:0:1:0" style="visibility:hidden;will-change:opacity" data-plx-no-clip>
<h2 class="p2 f11">La solution</h2>
</div>
</div>
<div class="v2 ps129 s154 c1 z41">
<p class="p2 f42">Confort, autonomie et &eacute;conomies d&rsquo;&eacute;nergie au quotidien.</p>
</div>
</div>
<div class="anim flash un9 v2 ps130 s155 c1 z130">
<p class="p2 f11">La solution</p>
</div>
</div>
</div>
</div>
</div>
<a name="dark_apropos" class="v6 ps131 s30"></a>
</div>
<div class="btf v3 ps132 s57 c24 z22"></div>
<div class="btf ps133 v1 s156">
<div class="v4 ps51 s157 z57">
<div class="v4 ps134 s59 z45">
<div class="v4 ps9 s59">
<div class="v2 ps9 s60 c1">
<picture>
<source srcset="images/f/plan-de-travail-2-copie-5-166.webp 1x, images/5/plan-de-travail-2-copie-5-332.webp 2x" type="image/webp">
<source srcset="images/3/plan-de-travail-2-copie-5-166.png 1x, images/9/plan-de-travail-2-copie-5-332.png 2x">
<img src="images/9/plan-de-travail-2-copie-5-332.png" loading="lazy" class="i5">
</picture>
</div>
<div class="v2 ps49 s3 c20">
<h1 class="p1"><span class="f2">Solutions solaires robustes <br></span><span class="f1">pour sites industrielles<br></span><span class="f43">Puissance, fiabilit&eacute; et performance &agrave; grande &eacute;chelle</span></h1>
</div>
</div>
</div>
<div class="beforeAfter v2 ps135 s62 c1 z131" data-hover="" data-start="50">
<a href="https://www.materauto.mg/" target="_blank" rel="noopener" draggable="false" class="a1"><picture><source srcset="images/p/local-materauto_le_upscale_prime--1116.webp 1x, images/a/local-materauto_le_upscale_prime--2232.webp 2x" type="image/webp"><source srcset="images/1/local-materauto_le_upscale_prime--1116.jpg 1x, images/a/local-materauto_le_upscale_prime--2232.jpg 2x"><img src="images/a/local-materauto_le_upscale_prime--2232.jpg" loading="lazy" draggable="false" class="i6"></picture><div class="ba_slider_cont c21"><picture class="ba_after"><source srcset="images/i/gemini_generated_image_qy4jvoqy4jvoqy4j-1116.webp 1x, images/3/gemini_generated_image_qy4jvoqy4jvoqy4j-2232.webp 2x" type="image/webp"><source srcset="images/b/gemini_generated_image_qy4jvoqy4jvoqy4j-1116.jpg 1x, images/2/gemini_generated_image_qy4jvoqy4jvoqy4j-2232.jpg 2x"><img src="images/2/gemini_generated_image_qy4jvoqy4jvoqy4j-2232.jpg" loading="lazy" draggable="false" class="i7"></picture><div class="ba_slider c22"></div></div></a>
</div>
</div>
<div class="v2 ps52 s63 c1 z29">
<div class="wrapper9">
<!-- ======================================================= -->
<!-- WIDGET AVIS GOOGLE MATERAUTO - DARK MODE (SANS CONFLIT) -->
<!-- ======================================================= -->

<!-- 1. Le conteneur parent (IDs uniques pour le dark mode) -->
<div id="materauto-reviews-embed-dark" style="width: 100%; min-height: 480px; position: relative; z-index: 10;">
    <!-- L'iframe sera injectée automatiquement ici -->
</div>

<!-- 2. Le code source du widget isolé -->
<textarea id="materauto-reviews-source-dark" style="display: none;">
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .clamp-lines {
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        /* Style de la scrollbar pour le thème sombre (si activée) */
        ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
    </style>
</head>
<body class="w-full m-0 p-2 md:p-4 font-sans overflow-hidden text-gray-200" style="background: transparent;">

    <div class="w-full max-w-full mx-auto relative">
        
        <!-- En-tête Dark -->
        <div class="bg-gray-800 border border-gray-700 rounded-xl p-4 md:p-6 mb-6 flex flex-col sm:flex-row items-center justify-between shadow-lg">
            <div class="flex items-center gap-4 mb-4 sm:mb-0">
                <span id="average-rating" class="text-3xl font-bold text-white">4.6</span>
                <div class="flex items-center gap-1 text-yellow-400" id="header-stars"></div>
                <span id="total-reviews" class="text-gray-400 text-sm font-medium">(42)</span>
            </div>
            <a href="https://maps.app.goo.gl/1YxYBCyhGtarxUjX8" target="_blank" rel="noopener noreferrer" class="bg-[#00897b] hover:bg-[#00796b] transition text-white px-5 py-2.5 rounded-lg text-sm font-medium whitespace-nowrap shadow-md">
                Laissez-nous un avis sur Google
            </a>
        </div>

        <!-- Carrousel Dark (Standard) -->
        <div class="relative group">
            <button id="btn-prev" class="absolute -left-2 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-gray-700 text-white rounded-full flex items-center justify-center hover:bg-gray-600 border border-gray-600 transition shadow-lg hidden sm:flex cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
            </button>

            <div id="reviews-container" class="flex overflow-x-auto scrollbar-hide gap-6 snap-x snap-mandatory py-2 px-1">
                <!-- Les cartes seront ici -->
            </div>

            <button id="btn-next" class="absolute -right-2 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-gray-700 text-white rounded-full flex items-center justify-center hover:bg-gray-600 border border-gray-600 transition shadow-lg hidden sm:flex cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
            </button>
        </div>

        <!-- Pagination Dark -->
        <div class="flex justify-center flex-wrap gap-1.5 mt-6 px-4" id="pagination-dots"></div>

    </div>

    <script>
        async function fetchGoogleReviews() {
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve({
                        result: {
                            rating: 4.6,
                            user_ratings_total: 42,
                            reviews: [
                                // Capture 1
                                { author_name: "Direction Adrenaline Group", profile_photo_url: "https://ui-avatars.com/api/?name=Direction+Adrenaline&background=dc2626&color=fff", rating: 5, text: "C'est l'endroit idéal pour acheter des pièces de rechange d'origine et pour s'acheter une belle voiture 🚗 de la marque Ford ...", relative_time_description: "il y a un an", is_verified: true },
                                { author_name: "Rojo valisoa Andrianantenaina", profile_photo_url: "https://ui-avatars.com/api/?name=Rojo+valisoa&background=4f46e5&color=fff", rating: 5, text: "MATERAUTO est un lieu où la qualité va bien au-delà d’un simple concept, où les valeurs de l'entreprise sont vécues au quotidien, et surtout l'engagement envers ses clients perdure depuis plus de 70 ans.", relative_time_description: "il y a un an", is_verified: false },
                                { author_name: "Charles BT", profile_photo_url: "https://ui-avatars.com/api/?name=Charles+BT&background=0ea5e9&color=fff", rating: 5, text: "Super équipe, très bon service. Ma voiture a été préparée en 2 jours", relative_time_description: "il y a 10 mois", is_verified: true },
                                { author_name: "Rado RANDRIAMALALA", profile_photo_url: "https://ui-avatars.com/api/?name=Rado+R&background=ea580c&color=fff", rating: 5, text: "Les services, tels que la vente de véhicules, la vente de pièces de rechange, le service après-vente, l'atelier de réparation et la location, sont tous certifiés ISO 9001, mettant ainsi la satisfaction du client au premier plan.", relative_time_description: "il y a 2 ans", is_verified: false },
                                // Capture 2
                                { author_name: "Lyra NA", profile_photo_url: "https://ui-avatars.com/api/?name=Lyra+NA&background=f97316&color=fff", rating: 5, text: "Les pièces proposées par MATERAUTO sont de bonne qualité et à un prix abordable. Aussi, le service offert est très satisfaisant.", relative_time_description: "il y a 2 ans", is_verified: false },
                                { author_name: "Sean", profile_photo_url: "https://ui-avatars.com/api/?name=Sean&background=10b981&color=fff", rating: 5, text: "Excellent personalized service.", relative_time_description: "il y a 5 mois", is_verified: true },
                                { author_name: "Luciana Rakotonindrina", profile_photo_url: "https://ui-avatars.com/api/?name=Luciana+R&background=db2777&color=fff", rating: 5, text: "J'ai rarement été aussi satisfaite par un prestataire de cette qualité. Je recommande 1000 fois", relative_time_description: "il y a 2 ans", is_verified: false },
                                { author_name: "Tiah Ranaivoariaon", profile_photo_url: "https://ui-avatars.com/api/?name=Tiah+R&background=3b82f6&color=fff", rating: 5, text: "Accueil bien", relative_time_description: "il y a un mois", is_verified: false },
                                { author_name: "Holy Christiane Randrianomanana", profile_photo_url: "https://ui-avatars.com/api/?name=Holy+C&background=be185d&color=fff", rating: 5, text: "Qualité de service impeccable. Pièces et produits de qualité", relative_time_description: "il y a 2 ans", is_verified: false },
                                { author_name: "Herilaza Serge RAKOTOMANARIVO", profile_photo_url: "https://ui-avatars.com/api/?name=Herilaza+S&background=ef4444&color=fff", rating: 5, text: "Qualité des produits, c'est vraiment au TOP", relative_time_description: "il y a 2 ans", is_verified: false },
                                // Capture 3
                                { author_name: "TSILIZY Jean Jacques Claudin", profile_photo_url: "https://ui-avatars.com/api/?name=TSILIZY+J&background=6b7280&color=fff", rating: 5, text: "Très bien", relative_time_description: "il y a un an", is_verified: false },
                                { author_name: "Tsiory Razafitsalama", profile_photo_url: "https://ui-avatars.com/api/?name=Tsiory+R&background=65a30d&color=fff", rating: 5, text: "Professionnel dans son domaine.", relative_time_description: "il y a 2 ans", is_verified: false },
                                { author_name: "Onja RALISOA SANDANIAINA", profile_photo_url: "https://ui-avatars.com/api/?name=Onja+R&background=8b5cf6&color=fff", rating: 5, text: "Commerciaux à l'écoute et serviables.", relative_time_description: "il y a 2 ans", is_verified: false },
                                { author_name: "Mbolatiana RAKOTONIRINA", profile_photo_url: "https://ui-avatars.com/api/?name=Mbolatiana+R&background=14b8a6&color=fff", rating: 5, text: "service professionnel", relative_time_description: "il y a 2 ans", is_verified: false },
                                { author_name: "Jean Elysée Louis", profile_photo_url: "https://ui-avatars.com/api/?name=Jean+E&background=0891b2&color=fff", rating: 5, text: "Concessionnaire automobile", relative_time_description: "il y a 8 ans", is_verified: true },
                                { author_name: "Taiza RASOLO", profile_photo_url: "https://ui-avatars.com/api/?name=Taiza+R&background=6d28d9&color=fff", rating: 5, text: "Le service fourni par toute l'équipe, qu'il s'agisse de réparations de véhicules ou d'autres aspects, est toujours satisfaisant. Les pièces sont de bonne qualité et à un prix raisonnable.", relative_time_description: "il y a 2 ans", is_verified: false },
                                // Capture 4
                                { author_name: "Rajemison Miarozo", profile_photo_url: "https://ui-avatars.com/api/?name=Rajemison+M&background=4c1d95&color=fff", rating: 4, text: "Belle acceuil", relative_time_description: "il y a 3 semaines", is_verified: false },
                                { author_name: "BEN JOY", profile_photo_url: "https://ui-avatars.com/api/?name=BEN+J&background=eab308&color=fff", rating: 4, text: "Great service", relative_time_description: "il y a 5 mois", is_verified: true },
                                { author_name: "Haja BAZAR", profile_photo_url: "https://ui-avatars.com/api/?name=Haja+B&background=9f1239&color=fff", rating: 4, text: "Concessionnaire Ford, Foton, Mercedes.....", relative_time_description: "il y a 10 ans", is_verified: true },
                                // Capture 5
                                { author_name: "Mahery Andrianasolo", profile_photo_url: "https://ui-avatars.com/api/?name=Mahery+A&background=475569&color=fff", rating: 4, text: "Concessionnaire de la marque Ford à Madagascar et représentant de Bosch. La société distribue aussi les amortisseurs KYB. Pour les consultations de prix des pièces détachées, je vous conseille de venir ...", relative_time_description: "il y a 8 ans", is_verified: true },
                                { author_name: "landry Rakotoson", profile_photo_url: "https://ui-avatars.com/api/?name=landry+R&background=334155&color=fff", rating: 3, text: "Bon concessionnaire automobile", relative_time_description: "il y a 8 ans", is_verified: true },
                                { author_name: "Jasper De Witte", profile_photo_url: "https://ui-avatars.com/api/?name=Jasper+D&background=78350f&color=fff", rating: 3, text: "Bon", relative_time_description: "il y a 9 ans", is_verified: true }
                            ]
                        }
                    });
                }, 500); 
            });
        }

        const svgStarFull = `<svg class="w-5 h-5 fill-current" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>`;
        const svgStarEmpty = `<svg class="w-5 h-5 text-gray-600 fill-current" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>`;
        const svgGoogleLogo = `<svg viewBox="0 0 24 24" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(1, 0, 0, 1, 27.009001, -39.238998)"><path fill="#4285F4" d="M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"/><path fill="#34A853" d="M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"/><path fill="#FBBC05" d="M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"/><path fill="#EA4335" d="M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"/></g></svg>`;
        const svgVerified = `<svg class="w-4 h-4 text-blue-400" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></svg>`;

        function generateStarsHTML(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) { stars += (i <= rating) ? svgStarFull : svgStarEmpty; }
            return stars;
        }

        window.toggleText = function(btn) {
            const textEl = btn.previousElementSibling;
            textEl.classList.toggle('clamp-lines');
            btn.textContent = textEl.classList.contains('clamp-lines') ? "Lire la suite" : "Réduire";
        };

        async function initWidget() {
            try {
                const data = await fetchGoogleReviews();
                const filteredReviews = data.result.reviews.filter(r => r.rating >= 2);

                document.getElementById('average-rating').textContent = data.result.rating;
                document.getElementById('header-stars').innerHTML = generateStarsHTML(Math.round(data.result.rating));
                document.getElementById('total-reviews').textContent = `(${data.result.user_ratings_total})`;

                const container = document.getElementById('reviews-container');
                const paginationContainer = document.getElementById('pagination-dots');

                filteredReviews.forEach((review, index) => {
                    const card = document.createElement('div');
                    // Changement des couleurs de la carte pour le Dark Mode
                    card.className = "min-w-[300px] md:min-w-[340px] max-w-[340px] bg-gray-800 border border-gray-700 rounded-xl shadow-lg p-6 flex flex-col snap-start shrink-0";
                    const textNeedsExpansion = review.text.length > 150;
                    
                    card.innerHTML = `
                        <div class="flex items-center gap-3 mb-4">
                            <div class="relative">
                                <img src="${review.profile_photo_url}" alt="${review.author_name}" class="w-10 h-10 rounded-full object-cover">
                                <div class="absolute -bottom-1 -right-1 bg-gray-800 rounded-full p-0.5 shadow-sm">${svgGoogleLogo}</div>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center gap-1">
                                    <h3 class="text-sm font-bold text-white leading-tight">${review.author_name}</h3>
                                    ${review.is_verified ? svgVerified : ''}
                                </div>
                                <p class="text-xs text-gray-400">${review.relative_time_description}</p>
                            </div>
                        </div>
                        <div class="flex text-yellow-400 mb-3 gap-0.5">${generateStarsHTML(review.rating)}</div>
                        <div class="text-sm text-gray-300 flex-1">
                            <p class="clamp-lines m-0">${review.text}</p>
                            ${textNeedsExpansion ? `<button onclick="toggleText(this)" class="text-blue-400 font-medium text-xs mt-1 hover:text-blue-300 transition">Lire la suite</button>` : ''}
                        </div>
                    `;
                    container.appendChild(card);

                    const dot = document.createElement('div');
                    // Couleurs des points de pagination pour le Dark Mode
                    dot.className = `w-2 h-2 rounded-full transition-colors duration-200 ${index === 0 ? 'bg-white' : 'bg-gray-600'}`;
                    paginationContainer.appendChild(dot);
                });

                // Navigation manuelle
                const scrollAmount = 360; // Largeur approximative d'une carte + l'espace
                document.getElementById('btn-next').addEventListener('click', () => container.scrollBy({ left: scrollAmount, behavior: 'smooth' }));
                document.getElementById('btn-prev').addEventListener('click', () => container.scrollBy({ left: -scrollAmount, behavior: 'smooth' }));

                // Synchronisation des points de pagination lors du scroll
                container.addEventListener('scroll', () => {
                    const activeIndex = Math.round(container.scrollLeft / scrollAmount);
                    Array.from(paginationContainer.children).forEach((dot, i) => {
                        dot.className = `w-2 h-2 rounded-full transition-colors duration-200 ${i === activeIndex ? 'bg-white' : 'bg-gray-600'}`;
                    });
                });

                // Auto-Slide classique (retour au début arrivé à la fin)
                let autoSlideInterval;
                function startAutoSlide() {
                    autoSlideInterval = setInterval(() => {
                        // Si on atteint la fin du scroll horizontal (avec marge d'erreur de 10px)
                        if (container.scrollLeft + container.clientWidth >= container.scrollWidth - 10) {
                            container.scrollTo({ left: 0, behavior: 'smooth' }); // Retour doux au début
                        } else {
                            container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
                        }
                    }, 5000);
                }
                
                function stopAutoSlide() { clearInterval(autoSlideInterval); }

                container.addEventListener('mouseenter', stopAutoSlide);
                container.addEventListener('mouseleave', startAutoSlide);
                container.addEventListener('touchstart', stopAutoSlide, { passive: true });
                container.addEventListener('touchend', startAutoSlide, { passive: true });

                startAutoSlide();

            } catch (error) {
                console.error("Erreur :", error);
            }
        }

        document.addEventListener('DOMContentLoaded', initWidget);
    </script>
</body>
</html>
</textarea>

<!-- 3. Le script d'injection (IDs modifiés) -->
<script>
    (function() {
        var sourceCode = document.getElementById('materauto-reviews-source-dark').value;
        var container = document.getElementById('materauto-reviews-embed-dark');
        
        var iframe = document.createElement('iframe');
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.style.border = 'none';
        iframe.style.position = 'absolute';
        iframe.style.top = '0';
        iframe.style.left = '0';
        iframe.style.background = 'transparent';
        iframe.title = "Avis Google Dark";
        
        container.appendChild(iframe);
        
        var doc = iframe.contentWindow.document;
        doc.open();
        doc.write(sourceCode);
        doc.close();
    })();
</script>
</div>
</div>
<div class="v2 ps136 s3 c23 z132">
<h1 class="p1 f1">Panneaux <span class="f2">install&eacute;s</span>, futur <span class="f2">assur&eacute;</span></h1>
</div>
<a name="dark_contact" class="v2 ps137 s30"></a>
</div>
<div class="btf v3 ps138 s65 c72 z133"></div>
<div class="btf v4 ps139 s64 c1 z134">
<div class="un10">
<div class="cnt2">
<video preload="metadata" playsinline muted loop class="vd1">
<source data-src="video/mtr25_video_gl_low.mp4" type="video/mp4">
</video>
</div>
</div>
</div>
<div class="btf v3 ps132 s4 z31">
<div class="v4 ps5 s4 c3 z135">
<div class="v2 ps6 s5 c1 z46">
<div class="un11">
<div class="cnt1">
<video preload="metadata" playsinline muted class="vd1">
<source data-src="video/maj_lampe-materauto-footer.mp4" type="video/mp4">
</video>
</div>
</div>
</div>
<div class="ps140 v5 s158">
<div class="v4 ps51 s159">
<div class="v2 ps9 s160 c1 z26">
<p class="p2 f44">&COPY; 2026 Materauto Energy&nbsp;</p>
</div>
<div class="v2 ps141 s160 c1 z24">
<p class="p1 f44">Confidentialit&eacute;s&nbsp; &nbsp;&bull;&nbsp; &nbsp;Conditions G&eacute;n&eacute;rales&nbsp; &nbsp;&bull;&nbsp; &nbsp;Param&egrave;tres</p>
</div>
</div>
<div class="v4 ps142 s29 c3 z25"></div>
</div>
</div>
</div>
<div class="btf ps7 v1 s161">
<div class="v4 ps8 s9 z33">
<div class="v4 ps9 s9">
<div class="v4 ps9 s10">
<div class="v2 ps10 s11 c1 z136">
<picture>
<source srcset="images/r/logo_materauto_energy_white-133.webp 1x, images/a/logo_materauto_energy_white-266.webp 2x" type="image/webp">
<source srcset="images/6/logo_materauto_energy_white-133.png 1x, images/3/logo_materauto_energy_white-266.png 2x">
<img src="images/3/logo_materauto_energy_white-266.png" loading="lazy" class="i1">
</picture>
</div>
<div class="v4 ps11 s12 c73 z34">
<div class="bd c74">
<div class="c6 s13">
</div>
</div>
<div class="v4 ps12 s162">
<div class="v2 ps13 s15 c1 z49">
<p class="p2 f3">Materauto Energy d&eacute;ploie des solutions solaires haute performance pour chaque besoin :&nbsp;</p>
<p class="p2 f3">du confort &eacute;nerg&eacute;tique des particuliers en r&eacute;sidentiel &agrave; l'autonomie des b&acirc;timents commerciaux,<span class="f3"> </span> jusqu&rsquo;&agrave; la robustesse des installations industrielles &agrave; grande &eacute;chelle, <br>gr&acirc;ce &agrave; nos panneaux bifaciaux, onduleurs hybrides et batteries LiFePO4 durables</p>
</div>
<div class="v4 ps14 s16">
<div class="v4 ps15 s17 c7 z48"></div>
<div class="v2 ps143 s18 c1 z137">
<p class="p1 f4">Confidentialit&eacute;s&nbsp; &nbsp;&bull;&nbsp; &nbsp;Conditions G&eacute;n&eacute;rales&nbsp; &nbsp;&bull;&nbsp; &nbsp;Param&egrave;tres</p>
</div>
<div class="v2 ps144 s19 c1 z52">
<p class="p1 f4">&COPY; 2026 Materauto Energy&nbsp;</p>
</div>
</div>
<div class="v4 ps18 s20">
<div class="v2 ps9 s21 c1 z47">
<p class="p2"><a target="_blank" href="https://www.google.com/maps/place/MATERAUTO/data=!4m2!3m1!1s0x0:0xf0220bb5f10751ce?sa=X&ved=1t:2428&ictx=111" rel="noopener" class="f5">MATERAUTO - Routes des hydrocarbures Ankorondrano Antananarivo, 101</a></p>
</div>
<div class="v2 ps19 s22 c1 z35">
<p class="p2"><a target="_blank" href="https://www.materauto.mg/" rel="noopener" class="f5">https://www.materauto.mg/</a></p>
</div>
<div class="v2 ps20 s23 c1 z50">
<p class="p2 f6">020 22 233 39</p>
</div>
</div>
<div class="v4 ps145 s24 z138">
<div class="v4 ps9 s24">
<div class="v4 ps9 s25">
<div class="v2 ps9 s26 c1 z139">
<p class="p2"><a target="_blank" href="https://www.facebook.com/Materauto/?locale=fr_FR" rel="noopener" class="f7"><x-svg class="s27"><svg style='fill:currentColor' height='100%' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512' role='graphics-object'><title>Facebook Square</title><path d='M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z'/></svg></x-svg></a></p>
</div>
<div class="v2 ps22 s26 c1 z140">
<p class="p2"><a class="f7"><x-svg class="s27"><svg style='fill:currentColor' height='100%' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512' role='graphics-object'><title>Instagram Square</title><path d='M224,202.66A53.34,53.34,0,1,0,277.36,256,53.38,53.38,0,0,0,224,202.66Zm124.71-41a54,54,0,0,0-30.41-30.41c-21-8.29-71-6.43-94.3-6.43s-73.25-1.93-94.31,6.43a54,54,0,0,0-30.41,30.41c-8.28,21-6.43,71.05-6.43,94.33S91,329.26,99.32,350.33a54,54,0,0,0,30.41,30.41c21,8.29,71,6.43,94.31,6.43s73.24,1.93,94.3-6.43a54,54,0,0,0,30.41-30.41c8.35-21,6.43-71.05,6.43-94.33S357.1,182.74,348.75,161.67ZM224,338a82,82,0,1,1,82-82A81.9,81.9,0,0,1,224,338Zm85.38-148.3a19.14,19.14,0,1,1,19.13-19.14A19.1,19.1,0,0,1,309.42,189.74ZM400,32H48A48,48,0,0,0,0,80V432a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V80A48,48,0,0,0,400,32ZM382.88,322c-1.29,25.63-7.14,48.34-25.85,67s-41.4,24.63-67,25.85c-26.41,1.49-105.59,1.49-132,0-25.63-1.29-48.26-7.15-67-25.85s-24.63-41.42-25.85-67c-1.49-26.42-1.49-105.61,0-132,1.29-25.63,7.07-48.34,25.85-67s41.47-24.56,67-25.78c26.41-1.49,105.59-1.49,132,0,25.63,1.29,48.33,7.15,67,25.85s24.63,41.42,25.85,67.05C384.37,216.44,384.37,295.56,382.88,322Z'/></svg></x-svg></a></p>
</div>
<div class="v2 ps23 s28 c1 z141">
<p class="p2"><a target="_blank" href="https://" rel="noopener" class="f7"><x-svg class="s27"><svg style='fill:currentColor' height='100%' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512' role='graphics-object'><title>LinkedIn</title><path d='M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z'/></svg></x-svg></a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="btf c75">
</div>
<script>window.plstp||(window.plstp=[]),plst=function(p,w){for(var n in window.plstp)window.plstp[n]();window.plstp=[],void 0!==p&&(window.plstp[p]=w)},plrm=function(w){delete window.plstp[w]};!function(){if("Promise"in window&&void 0!==window.performance){var e,t,r=document,n=function(){return r.createElement("link")},o=new Set,a=n(),i=a.relList&&a.relList.supports&&a.relList.supports("prefetch"),s=location.href.replace(/#[^#]+$/,"");o.add(s);var c=function(e){var t=location,r="http:",n="https:";if(e&&e.href&&e.origin==t.origin&&[r,n].includes(e.protocol)&&(e.protocol!=r||t.protocol!=n)){var o=e.pathname;if(!(e.hash&&o+e.search==t.pathname+t.search||"?preload=no"==e.search.substr(-11)||".html"!=o.substr(-5)&&".html"!=o.substr(-5)&&"/"!=o.substr(-1)))return!0}},u=function(e){var t=e.replace(/#[^#]+$/,"");if(!o.has(t)){if(i){var a=n();a.rel="prefetch",a.href=t,r.head.appendChild(a)}else{var s=new XMLHttpRequest;s.open("GET",t,s.withCredentials=!0),s.send()}o.add(t)}},p=function(e){return e.target.closest("a")},f=function(t){var r=t.relatedTarget;r&&p(t)==r.closest("a")||e&&(clearTimeout(e),e=void 0)},d={capture:!0,passive:!0};r.addEventListener("touchstart",function(e){t=performance.now();var r=p(e);c(r)&&u(r.href)},d),r.addEventListener("mouseover",function(r){if(!(performance.now()-t<1200)){var n=p(r);c(n)&&(n.addEventListener("mouseout",f,{passive:!0}),e=setTimeout(function(){u(n.href),e=void 0},80))}},d)}}();dpth="/";!function(){var e={},t={},n={};window.ld=function(a,r,o){var c=function(){"interactive"==document.readyState?(r&&r(),document.addEventListener("readystatechange",function(){"complete"==document.readyState&&o&&o()})):"complete"==document.readyState?(r&&r(),o&&o()):document.addEventListener("readystatechange",function(){"interactive"==document.readyState&&r&&r(),"complete"==document.readyState&&o&&o()})},d=(1<<a.length)-1,u=0,i=function(r){var o=a[r],i=function(){for(var t=0;t<a.length;t++){var r=(1<<t)-1;if((u&r)==r&&n[a[t]]){if(!e[a[t]]){var o=document.createElement("script");o.textContent=n[a[t]],document.body.appendChild(o),e[a[t]]=!0}if((u|=1<<t)==d)return c(),0}}return 1};if(null==t[o]){t[o]=[];var f=new XMLHttpRequest;f.open("GET",o,!0),f.onload=function(){n[o]=f.responseText,[].forEach.call(t[o],function(e){e()})},t[o].push(i),f.send()}else{if(e[o])return i();t[o].push(i)}return 1};if(a.length)for(var f=0;f<a.length&&i(f);f++);else c()}}();ld([],function(){!function(){var e=document.querySelectorAll('a[href^="#"]:not(.noConsent):not(.denyConsent):not(.removeConsent):not(.allowConsent):not(.allowSelectedConsent)');[].forEach.call(e,function(c){var e=navigator.userAgent,m=/chrome/i.test(e),p=/firefox/i.test(e),d=/iPad|iPhone|iPod/.test(e)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;c.addEventListener("click",function(e){var a,o,t=!1,n=document.body.parentNode,r=(d&&"none"!=getComputedStyle(n).getPropertyValue("scroll-snap-type")&&(n.setAttribute("data-snap",n.style.scrollSnapType),n.style.scrollSnapType="none",t=!0),0);if(1<c.hash.length){var n=parseFloat(getComputedStyle(document.body).getPropertyValue("zoom")),s=(!p&&n||(n=1),c.hash.slice(1)),i=document.getElementById(s);if(null===i&&null===(i=document.querySelector('[name="'+s+'"]')))return;r=m?i.getBoundingClientRect().top*n+pageYOffset:(i.getBoundingClientRect().top+pageYOffset)*n}else if(t)for(var l=document.querySelectorAll("[data-block-group]"),u=0;u<l.length;u++)if("none"!=getComputedStyle(l[u]).getPropertyValue("scroll-snap-align")){i=l[u];break}t?window.smoothScroll(e,i,1):"scrollBehavior"in document.documentElement.style?scroll({top:r,left:0,behavior:"smooth"}):"requestAnimationFrame"in window?(a=pageYOffset,o=null,requestAnimationFrame(function e(t){t=(t-(o=o||t))/400;scrollTo(0,a<r?(r-a)*t+a:a-(a-r)*t),t<1?requestAnimationFrame(e):scrollTo(0,r)})):scrollTo(0,r),e.preventDefault()},!1)})}(),window.smoothScroll=function(e,a,o,n){e.stopImmediatePropagation();var r=pageYOffset,e=a?(a="string"==typeof a||a instanceof String?document.querySelector(a):a).getBoundingClientRect().top:-r,t=navigator.userAgent,s=/chrome/i.test(t),t=/firefox/i.test(t),i=parseFloat(getComputedStyle(document.body).getPropertyValue("zoom")),l=e*(i=!t&&i?i:1)+(s?0:r*(i-1)),u=null;function c(){m((window.performance.now?window.performance:Date).now())}function m(e){var e=(e-(u=null===u?e:u))/1e3,t=function(e,t,a){switch(n){case"linear":break;case"easeInQuad":e*=e;break;case"easeOutQuad":e=1-(1-e)*(1-e);break;case"easeInCubic":e*=e*e;break;case"easeOutCubic":e=1-Math.pow(1-e,3);break;case"easeInOutCubic":e=e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2;break;case"easeInQuart":e*=e*e*e;break;case"easeOutQuart":e=1-Math.pow(1-e,4);break;case"easeInOutQuart":e=e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2;break;case"easeInQuint":e*=e*e*e*e;break;case"easeOutQuint":e=1-Math.pow(1-e,5);break;case"easeInOutQuint":e=e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2;break;case"easeInCirc":e=1-Math.sqrt(1-Math.pow(e,2));break;case"easeOutCirc":e=Math.sqrt(1-Math.pow(1-e,2));break;case"easeInOutCirc":e=e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2;break;default:e=e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}1<e&&(e=1);return t+a*e}(e/o,r,l);window.scrollTo(0,t),e<o?"requestAnimationFrame"in window?requestAnimationFrame(m):setTimeout(c,1e3/120):(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&(a&&a.scrollIntoView(),setTimeout(function(){var e=document.body.parentNode;e.style.scrollSnapType=e.getAttribute("data-snap"),e.removeAttribute("data-snap")},100))}return"requestAnimationFrame"in window?requestAnimationFrame(m):setTimeout(c,1e3/120),!1};!function(){var e=null;if(location.hash){var t=location.hash.replace("#",""),n=function(){var o=document.getElementById(t);null===o&&(o=document.querySelector('[name="'+t+'"]')),o&&o.scrollIntoView(!0),"0px"===window.getComputedStyle(document.body).getPropertyValue("min-width")?setTimeout(n,100):null!=e&&setTimeout(e,100)};n()}else null!=e&&e()}();},function(){uq=document.querySelector('.un10 video');if(uq){var uqf=0;uqvol=0.8;uq.addEventListener('play',function(){if(!uqf){uqf=1}});uq.addEventListener('ended',function(){uqf=0;});uqs=document.querySelector('.un10 video source');uq.addEventListener('canplay',function(){uq.muted=!0;uq.play()});uqs.src=uqs.dataset.src;uq.load();}uq2=document.querySelector('.un11 video');if(uq2){var uq2f=0;uq2vol=0.8;uq2.addEventListener('play',function(){if(!uq2f){uq2f=1}});uq2.addEventListener('ended',function(){uq2f=0;});uq2s=document.querySelector('.un11 video source');uq2.addEventListener('canplay',function(){uq2.muted=!0;uq2.play()});uq2s.src=uq2s.dataset.src;uq2.load();}});ld(["js/rive.60cbab.js"],void 0,function(){(function(){const riveCanvas=document.getElementById("rp3");rive.RuntimeLoader.setWasmUrl('js/rive.60cbab.wasm');const riveInstance=new rive.Rive({src:"images/b/3857-8082-a-right-arrow-looping-animation.2b38de.riv",canvas:riveCanvas,onLoad:()=>{riveInstance.resizeDrawingSurfaceToCanvas();riveInstance.play('Can Go Next Animation')},onStop:()=>{riveInstance.play('Can Go Next Animation')}})})();});ld(["js/menu.60cbab.js","js/menu-dropdown-animations.60cbab.js","js/menu-dropdown.1394df.js"],function(){initMenu(document.querySelector('#m3'));});ld(["js/woolite.60cbab.js"],function(){wl.addAnimation('.un7',"0.10s","0.20s",5,100);wl.addAnimation('.un8',"0.10s","0.60s",6,100);wl.addAnimation('.un9',"0.10s","0.20s",5,100);wl.start();});</script>
<script>
var initParallax,doParallax;!function(){function e(){var t=document.body,B=document.documentElement;if(Ft(t,"lbb")&&lt)return Ot();var H,e=window,q=(st=e.innerWidth,e.getComputedStyle(t)),S=(mt=(mt=bt||st==lt?mt:parseFloat(q.getPropertyValue("zoom")))||1,ot=parseFloat(q.getPropertyValue("--lvh"))*mt||e.innerHeight,ht=e.scrollX,t.getAttribute("data-modpop")),W=void 0;if(pt=null!==S?(W=document.getElementById(S)).children[0].children[0].scrollTop:e.scrollY,at=(H=""!=t.style.getPropertyValue("--fp"))||at,ht<0&&lt&&!wt||!at&&rt===yt&&st===lt&&nt===ot&&ht===ut&&pt===ct)return Ot();at=!1,ht<0&&(ht=0),dt=st/mt,ft=ot/mt;for(var i=Math.max(t.scrollWidth,dt),R=Math.max(t.scrollHeight,t.offsetHeight,B.clientHeight,B.scrollHeight,B.offsetHeight),Y=it.length,X=0;X<Y;X++){var r=it[X],a=xt(r);if(null!==a&&(void 0===W||W.contains(r))&&"hidden"!=(F=e.getComputedStyle(a)).getPropertyValue("visibility")&&"none"!=F.getPropertyValue("display")){(r.animated||H)&&(r.bounds=void 0);var s=vt(r);if(null!=s){void 0===r.plx&&(r.style.display="block",r.plx=r.getAttribute("data-plx").split(";"),r.bb=null!=r.getAttribute("data-plx-bb"),r.offsl=r.offst=r.incw=r.inch=0,r.nc||null!=(z=a.getAttribute("data-plx-offs"))&&(z=z.split(";"),r.offsl=1.4142*parseInt(z[0]),r.offst=1.4142*parseInt(z[1]),r.incw=Math.max(0,-r.offsl)+1.4142*parseInt(z[2]),r.inch=Math.max(0,-r.offst)+1.4142*parseInt(z[3])),d=n=1,"none"!=(F=F.getPropertyValue("transform")||F.getPropertyValue("-webkit-transform")||F.getPropertyValue("-moz-transform")||F.getPropertyValue("-ms-transform"))&&(F=F.substring(7).split(","),n=0<=parseFloat(F[0])?1:-1,d=0<=(x=parseFloat(F[3]))?1:-1),r.sx=n,r.sy=d,void 0===r.parallax)&&(r.style.display="inline-block");for(var o=void 0,l=void 0,Z=void 0,n=void 0,d=0,j=void 0,D=void 0,G=void 0,f=void 0,h=void 0,p=void 0,u=void 0,c=void 0,y=0,m=1,g=r.plx.length-1;0<=g;g--){var b,x=r.plx[g],v=(Array.isArray(x)||((x=r.plx[g]=r.plx[g].split(":"))[0].startsWith("H")&&(r.hplx=!0,x[0]=x[0].substring(1)),x[1]=parseFloat(x[1]),x[2]=parseFloat(x[2]),x[3]=parseInt(x[3]),x[4]=parseInt(x[4])),x[1]),J=x[2],K=x[3],U=x[4],T=(T=r.hplx?kt:It)(r,s,K,J,v,U),k=r.hplx?dt*(J-Math.max(v,0)):T.vwh;if(void 0!==r.currentTime)r.videoWidth?(h=T.o,I=(h=U?-h:h)<0?0:h*x[5]/1e3,bt?void(r.playbackRate=0)!==(b=r.play())&&b.then(function(t,e){return function(){t.currentTime=e,t.pause()}}(r,I)).catch(function(t){}):r.currentTime=I):at=!0;else{if(0<=r.tagName.indexOf("LOTTIE-PLAYER")){void 0!==r.seek&&((b=T.o/(ft*(J-(0<=v?v:0)))*x[5]*100)<0?b=0:100<b&&(b=K?b%100:100),b=parseInt(b)+"%",r.seek(b));break}if(r.parallax){var I=(h=T.o)<0?0:h*x[5]/k;r.parallax(I,k);break}}I=null!=p?(T.n/k+1.5)/4:T.n/k;if(I=Mt(x[x.length-1],I,U),"v"==x[0]){var $=(0==U?-1:1)*(x[5]-1),l=T.o*$;null==o&&(o=0)}else if("h"==x[0])o="ll"==x[5]?-(s.left+s.width):"lc"==x[5]?-(s.left+s.width)*(1-I):"lr"==x[5]?-(s.left+s.width)*(1-I)+(i-s.left)*I:"cl"==x[5]?-(s.left+s.width)*I:"cc"==x[5]?0:"cr"==x[5]?(i-s.left)*I:"rl"==x[5]?-(s.left+s.width)*I+(i-s.left)*(1-I):"rc"==x[5]?(i-s.left)*(1-I):"rr"==x[5]?i-s.left:($=x[5],T.o*$),null==l&&(l=0);else if("s"==x[0].charAt(0))(n=1-I+I*x[5])<0?n=0:d=n,"sx"==x[0]?d=1:"sy"==x[0]&&(n=1);else if("r"==x[0])j=I*x[5],D=x[6]+" "+x[7];else if("ry"==x[0])G=I*x[5]+(1-I)*x[6];else if("b"==x[0])(f=I*x[5])<0&&(f=0);else if("o"==x[0])(h=1-I+I*x[5]/100)<0?h=0:1<h&&(h=1);else if("z"==x[0])Z=(p=(T.o/k+1.5)/4)<0?p=0:1<p?(p=1,0):(I=.95*Mt("easeInOutQuint",p,!0)+.025,T.wOff+dt*I-T.x);else if("c"==x[0].charAt(0)){(I=(c=1)-I+I*x[5])<(u=0)&&(I=0);for(var _=1;_<x[0].length;_++){var M=x[0].charAt(_);"x"==M?(u=.5-I/2,c=.5+I/2):"r"==M?c=(u=1)-I:"l"==M?c=I:"y"==M?(y=.5-I/2,m=.5+I/2):"t"==M?m=I:"b"==M&&(m=(y=1)-I)}}}if(!(void 0!==r.currentTime||0<=r.tagName.indexOf("LOTTIE-PLAYER")||void 0!==r.parallax)){var F=r.nc?void 0:r.parentNode,O=(F&&(F.style.webkitTransform=F.style.MozTransform=F.style.msTransform=F.style.transform="none",F.style.width=F.style.height=r.style.marginLeft=r.style.marginTop=0),""),P="",C="";if(null!=o?(P="translate3d("+o.toFixed(1)+"px,"+l.toFixed(1)+"px,0)",(r.sx<0||r.sy<0)&&(C="translate3d("+(o*r.sx).toFixed(1)+"px,"+(l*r.sy).toFixed(1)+"px,0)")):null!=Z&&(P="translate3d("+Z.toFixed(1)+"px,0,0)"),null!=n&&(O+="scale("+n.toFixed(3)+","+d.toFixed(3)+")"),null!=j?(O.length&&(O+=" "),O+="rotate("+j.toFixed(1)+"deg)",r.style.webkitTransformOrigin=r.style.MozTransformOrigin=r.style.msTransformOrigin=r.style.transformOrigin=D):null!=G&&(P.length&&(P+=" "),P+="perspective(2500px) rotateY("+G.toFixed(1)+"deg)"),P.length&&(P+=" "),P+=O,C.length&&(C=C+" "+O),null!=f&&(P.length||(P="translateZ(0)"),r.style.webkitFilter=r.style.mozFilter="blur("+f.toFixed(1)+"px)"),null!=h&&(r.style.opacity=h.toFixed(2),r.style.filter="alpha(opacity="+parseInt(100*h)+")"),null!=u&&(c||(c=u,u=0),c=(100*c).toFixed(2),u=(100*u).toFixed(2),m||(m=y,y=0),m=(100*m).toFixed(2),y=(100*y).toFixed(2),u!=c&&y!=m?(r.style.webkitClipPath=r.style.clipPath="polygon("+c+"% "+m+"%, "+u+"% "+m+"%, "+u+"% "+y+"%, "+c+"% "+y+"%)",P.length||(P="translate(0,0)")):(r.style.webkitClipPath=r.style.clipPath="",P="none")),P.length&&"none"==(r.style.webkitTransform=r.style.MozTransform=r.style.msTransform=r.style.transform=P))r.style.visibility="hidden",F&&(F.style.webkitTransform=F.style.MozTransform=F.style.msTransform=F.style.transform="none",F.style.visibility="hidden");else{if(F){var z,P=f||0,A=P,L=(void 0!==n&&(A*=d,P*=n),r.pr),p=wt?mt:1,a=(L||((L=Tt(a,0)).left=(L.left+ht)/p,L.top=(L.top+pt)/p,L.width/=p,L.height/=p,void 0===r.pr&&(r.pr=null===a.closest(".plx")?L:null)),{left:L.left-ht/p,top:L.top-pt/p,width:L.width,height:L.height}),L=(parseInt(10*parseFloat(r.style.width))!=parseInt(10*a.width)&&(r.style.width=a.width.toFixed(1)+"px"),parseInt(10*parseFloat(r.style.height))!=parseInt(10*a.height)&&(r.style.height=a.height.toFixed(1)+"px"),Tt(r,r.bb)),V=(1!=p&&(L={left:L.left/p,top:L.top/p,width:L.width/p,height:L.height/p}),C=C.length?(r.style.webkitTransform=r.style.MozTransform=r.style.msTransform=r.style.transform=C,Tt(r,r.bb)):{left:L.left,top:L.top,width:L.width,height:L.height},r.offsl),Q=r.offst,E=r.incw,N=r.inch,tt=(r.nc||(z=window.getComputedStyle(r).getPropertyValue("--plx-offs")).length&&(z=z.split(";"),V=1.4142*parseInt(z[0].substring(1)),Q=1.4142*parseInt(z[1]),E=Math.max(0,-V)+1.4142*parseInt(z[2]),N=Math.max(0,-Q)+1.4142*parseInt(z[3])),(L.width-a.width)/2-V),et=(L.height-a.height)/2-Q,V=(L.left+=V,L.top+=Q,L.width+=E,L.height+=N,p=mt,C.left+V-P),Q=(C.top+Q-A)*p,E=(wt||(Q+=pt*(p-1)),C.width+E+2*P),C=C.height+N+2*A;if(0===h||ot+(gt?196:0)<Q||Q+C*p<(gt?-128:0)||V+E<0||i<V){F.style.width&&(r.style.marginLeft=r.style.marginTop=F.style.width=F.style.height=0,r.style.webkitTransform=r.style.MozTransform=r.style.msTransform=r.style.transform=F.style.webkitTransform=r.style.MozTransform=r.style.msTransform=r.style.transform="",F.style.overflow="hidden");continue}h=i<(V+=ht)+E?(E=i-V,"hidden"):"visible",R<(Q+=pt)+C*p&&(C=(R-Q)/p),(r.style.transform||r.style.webkitTransform||r.style.MozTransform||r.style.msTransform)!=O&&(r.style.webkitTransform=r.style.MozTransform=r.style.msTransform=r.style.transform=O),"50% 50%"!=(r.style.transformOrigin||r.style.webkitTransformOrigin||r.style.MozTransformOrigin||r.style.msTransformOrigin)&&(r.style.webkitTransformOrigin=r.style.MozTransformOrigin=r.style.msTransformOrigin=r.style.transformOrigin="50% 50%");N=r.sx<0?L.width-w:0,tt=(tt+N+P).toFixed(1)+"px",V=(r.style.marginLeft!=tt&&(r.style.marginLeft=tt),r.sy<0?L.height-C:0),et=(et+V+A).toFixed(1)+"px";r.style.marginTop!=et&&(r.style.marginTop=et),parseInt(10*parseFloat(F.style.width))!=parseInt(10*E)&&(F.style.width=E.toFixed(1)+"px"),parseInt(10*parseFloat(F.style.height))!=parseInt(10*C)&&(F.style.height=C.toFixed(1)+"px"),F.style.webkitTransform=F.style.MozTransform=F.style.msTransform=F.style.transform="translate3d("+(L.left-a.left-N-P).toFixed(1)+"px,"+(L.top-a.top+V-A).toFixed(1)+"px,0)",F.style.overflow=h,F.style.visibility=""}r.style.visibility=""}}}}}lt=st,nt=ot,ut=ht,ct=pt,yt=rt||!1,rt=rt||"0px"!==q.getPropertyValue("min-width"),Ot()}var it,rt,at,st,ot,lt,nt,dt,ft,ht,pt,ut,ct,p=["sticky","-webkit-sticky","-moz-sticky","-o-sticky","-ms-sticky"],yt=!1,mt=1,t=navigator.userAgent,i=/Version\//g,gt=(/iPad|iPhone|iPod/.test(t)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&i.test(t)&&26<=parseInt(t.substring(i.lastIndex)),wt=/chrome/i.test(t),bt=/firefox/i.test(t),xt=(initParallax=function(){it=document.getElementsByClassName("plx")},function(t){var e=t.parentNode;return null===e?null:(!1!==t.nc&&(void 0!==t.nc||(t.nc=null!=t.getAttribute("data-plx-no-clip")))||(e=e.parentNode),(t.c||void 0===t.c&&(t.c=null!=e.getAttribute("data-plx-c")))&&null!=(e=e.parentNode).getAttribute("data-plx-c")?e.parentNode:e)}),vt=function(t,e){var i=window,r=t.bounds;if(void 0===e&&(!rt&&"0px"===i.getComputedStyle(e=xt(t)).getPropertyValue("min-width")||void 0!==r&&lt==st))void 0===r||0!=r.width&&0!=r.height||(r.width=t.offsetWidth,r.height=t.offsetHeight);else{void 0===e&&((t.pr=void 0)===t.currentTime&&void 0===t.parallax&&(o=t.getAttribute("data-plx-pos"),t.style.position=o||"absolute"),e=xt(t));var a=0,s=0,o=e.offsetWidth,l=e.offsetHeight,n=e,d=!1;do{var f=i.getComputedStyle(n),h=-1!=p.indexOf(f.position)}while(h&&(n.style.position="relative",t.pr=null),a+=n.offsetTop,s+=n.offsetLeft,h&&(n.style.position=""),d=d||"none"!=f.getPropertyValue("animation-name"),n=n.offsetParent);r={top:a,left:s,width:o,height:l},lt==st&&null!=t.originalBounds||(t.originalBounds=r),t.bounds=r,t.animated=d,at=at||d}return r},Tt=function(t,e){for(var i={left:(i=t.getBoundingClientRect()).left,right:i.right,top:i.top,bottom:i.bottom},r=0;0!==e&&r<t.children.length;r++){var a=t.children[r];"none"!=window.getComputedStyle(a).getPropertyValue("display")&&((a=e?Tt(a,e):a.getBoundingClientRect()).left<i.left&&(i.left=a.left),a.top<i.top&&(i.top=a.top),a.right>i.right&&(i.right=a.right),a.bottom>i.bottom)&&(i.bottom=a.bottom)}return i.width=i.right-i.left,i.height=i.bottom-i.top,i},kt=function(t,e,i,r,a){window;for(var s=t;(s=s.parentNode)&&!Ft(s,"slc"););var t=s.getBoundingClientRect().left,t=(wt&&(t/=mt),vt(s,s).left-t),o=parseInt(e.left)?e.left:0;0<i&&(o+=e.width/(3-i));return{o:e=dt*r-(o-t),n:e,x:o,wOff:t}},It=function(t,e,i,r,a,s){window;var o=pt/mt,t=(o<0&&(o=0),t.originalBounds.top>e.top&&(o+=t.originalBounds.top-e.top),parseInt(e.top/mt)?e.top:0),e=(0<i&&(t+=e.height/(3-i)),(t-o)/ft),l=0,n=ft*r,d=ft*(0<=a?a:0),f=(t<=n&&d<=t?t:n)-d;return(e<=r||2==i&&1<=r)&&(a<=e||2!=i&&a<=0)?(l=o,n<t&&(l+=n-t)):e<=r&&(l=!(t<d)||s?f:0),{o:s?f-l:l,n:l,vwh:f}},Mt=function(t,e,i){var r=t&&t.startsWith("ease"),a=t&&t.startsWith("bounce");if((r||a)&&(e<0||1<e)&&(e=a?0:e,r=a=!1),r)switch(t){case"easeInQuad":e*=e;break;case"easeOutQuad":e=1-(1-e)*(1-e);break;case"easeInOutQuad":e=e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2;break;case"easeInCubic":e*=e*e;break;case"easeOutCubic":e=1-Math.pow(1-e,3);break;case"easeInOutCubic":e=e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2;break;case"easeInQuart":e*=e*e*e;break;case"easeOutQuart":e=1-Math.pow(1-e,4);break;case"easeInOutQuart":e=e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2;break;case"easeInQuint":e*=e*e*e*e;break;case"easeOutQuint":e=1-Math.pow(1-e,5);break;case"easeInOutQuint":e=e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2;break;case"easeInCirc":e=1-Math.sqrt(1-e*e);break;case"easeOutCirc":e=Math.sqrt(1-(1-e)*(1-e));break;case"easeInOutCirc":e=e<.5?(1-Math.sqrt(1-4*e*e))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2;break;case"easeOutInCirc":e=e<.5?Math.sqrt(1-4*(e-.5)*(e-.5))/2:1-Math.sqrt(1-4*(e-.5)*(e-.5))/2}else if(a)switch(t){case"bounceLinear":e=e<.5?2*e:2-2*e;break;case"bounceQuad":e=-4*e*(e-1);break;case"bounceInOutQuad":e=e<.25?8*e*e:e<.75?-8*(e-.5)*(e-.5)+1:8*(e-1)*(e-1);break;case"bounceCubic":e=(.5<e?-8:8)*(e-.5)*(e-.5)*(e-.5)+1;break;case"bounceInOutCubic":e=e<.25?32*e*e*e:e<.5?32*Math.pow(e-.5,3)+1:e<.75?-32*Math.pow(e-.5,3)+1:-32*Math.pow(e-1,3)}return i?1-e:e},Ft=function(t,e){var i=t.classList;return null!=i?i.contains(e):-1<(" "+t.className+" ").indexOf(" "+e+" ")},Ot=function(){return window.requestAnimationFrame?(requestAnimationFrame(e),!0):(rt||setTimeout(e,100),!1)},i=window;if(Ot()||(i.addEventListener?(i.addEventListener("scroll",e),i.addEventListener("resize",e)):(i.onscroll=e,i.onresize=e)),initParallax(),e(),doParallax=function(t){lt=0,t&&e()},"matchMedia"in window)try{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(t){e()})}catch(t){}}();

</script>
<script>
!function(){function p(t,e,o,n){null!=t.addEventListener?t.addEventListener(e,o,void 0!==n&&{passive:n}):null!=t.attachEvent?t.attachEvent("on"+e,o):t[e]=o}var t=document.createElement("style"),e=(t.innerHTML=".beforeAfter{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ba_after{width:100%;height:100%;display:block}.ba_slider{display:grid;position:absolute;top:0;height:100%;background-clip:content-box;pointer-events:auto}.ba_slider_cont{position:absolute;top:0;width:100%;height:100%;overflow:hidden}.ba_overlay{width:100%;height:100%;display:block;position:absolute;top:0;opacity:0;transition:opacity 0.5s ease-in-out}",document.head),o=e.querySelector("style");o?e.insertBefore(t,o):e.appendChild(t);document.querySelectorAll(".beforeAfter").forEach(function(t){function l(e,o,n){n<0?n=0:100<n&&(n=100);var i=e.getBoundingClientRect();if(0==i.height)setTimeout(function(){l(e,o,n)},100);else{var r,c=e.parentNode.getBoundingClientRect();let t;a?(r=0<u?c.top+c.height*n/100:c.bottom-c.height*n/100,t=0<u?r<=i.top?0:r>=i.bottom?100:100*(r-i.top)/i.height:r<=i.top?100:r>=i.bottom?0:100*(i.bottom-r)/i.height,n-=50*o.clientWidth/c.height):(r=0<u?c.left+c.width*n/100:c.right-c.width*n/100,t=0<u?r<=i.left?0:r>=i.right?100:100*(r-i.left)/i.width:r<=i.left?100:r>=i.right?0:100*(i.right-r)/i.width,n-=50*o.clientWidth/c.width),e.style.clipPath="polygon(0 0, "+t.toFixed(2)+"% 0, "+t+"% 100%, 0 100%)",o.style.left=n.toFixed(2)+"%"}}function e(t){var e;d&&(s&&t.preventDefault(),e=r.parentNode.getBoundingClientRect(),o=a?(o=(void 0!==t.touches&&t.touches.length?t.touches[0]:t).clientY-e.top,u<0&&(o=e.height-o),(o-=n*u)*(100/e.height)):(o=(void 0!==t.touches&&t.touches.length?t.touches[0]:t).clientX-e.left,u<0&&(o=e.width-o),(o-=n*u)*(100/e.width)),l(r,c,o))}var o,n=0,i=0,r=t.querySelector(".ba_after img"),c=t.querySelector(".ba_slider"),h=function(t){t=window.getComputedStyle(t).getPropertyValue("transform");if("none"===t)return 0;var t=t.match(/matrix\(([^)]+)\)/)[1].split(", "),e=t[0];let o=Math.round(Math.atan2(t[1],e)*(180/Math.PI));return o<0&&(o+=360),o}(t),a=45<h&&h<135||225<h&&h<315,u=(c.style.cursor=(a?"ns":"ew")+"-resize",135<=h&&h<315?-1:1),d=null!==t.getAttribute("data-hover"),s=!1,h=t.getAttribute("data-start");l(r,c,!1!==h?parseInt(h):50),d||(p(c,"touchstart",h=function(t){d=!0,document.body.classList.add("beforeAfter"),s=void 0!==t.touches&&t.touches.length;var e=c.getBoundingClientRect();n=a?(o=(s?t.touches[0]:t).clientY)-(e.top+e.height/2):(o=(s?t.touches[0]:t).clientX)-(e.left+e.width/2),t.pointerId&&c.setPointerCapture(i=t.pointerId)}),p(c,"pointerdown",h),h=function(t){s&&"pointercancel"===t.type||(s&&(d=!1),document.body.classList.remove("beforeAfter"),i&&(c.releasePointerCapture(i),i=0))},p(document,"touchend",h),p(document,"touchcancel",h),p(document,"pointerup",h),p(document,"pointercancel",h),p(document,"click",function(t){d&&(t.preventDefault(),d=!1)}));p(t,"touchmove",e),p(t,"mousemove",e)})}();

</script>
</body>
</html>